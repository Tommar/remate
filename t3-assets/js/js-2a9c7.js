

/*===============================
http://localhost/bt_real_estate30/modules/mod_bt_googlemaps/tmpl/js/btbase64.min.js
================================================================================*/;
var BT = BT || {};
(function() {
	BT.Base64 = new Class(
			{
				Implements : [ Options, Events ],
				options : {},
				initialize : function(a) {
					this.setOptions(a)
				},
				keyString : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
				UTF8Encode : function(b) {
					b = b.replace(/\x0d\x0a/g, "\x0a");
					var a = "";
					for ( var e = 0; e < b.length; e++) {
						var d = b.charCodeAt(e);
						if (d < 128) {
							a += String.fromCharCode(d)
						} else {
							if ((d > 127) && (d < 2048)) {
								a += String.fromCharCode((d >> 6) | 192);
								a += String.fromCharCode((d & 63) | 128)
							} else {
								a += String.fromCharCode((d >> 12) | 224);
								a += String.fromCharCode(((d >> 6) & 63) | 128);
								a += String.fromCharCode((d & 63) | 128)
							}
						}
					}
					return a
				},
				UTF8Decode : function(a) {
					var b = "";
					var d = 0;
					var e = c1 = c2 = 0;
					while (d < a.length) {
						e = a.charCodeAt(d);
						if (e < 128) {
							b += String.fromCharCode(e);
							d++
						} else {
							if ((e > 191) && (e < 224)) {
								c2 = a.charCodeAt(d + 1);
								b += String.fromCharCode(((e & 31) << 6)
										| (c2 & 63));
								d += 2
							} else {
								c2 = a.charCodeAt(d + 1);
								c3 = a.charCodeAt(d + 2);
								b += String.fromCharCode(((e & 15) << 12)
										| ((c2 & 63) << 6) | (c3 & 63));
								d += 3
							}
						}
					}
					return b
				},
				base64Encode : function(c) {
					var a = "";
					var k, h, f, j, g, e, d;
					var b = 0;
					c = this.UTF8Encode(c);
					while (b < c.length) {
						k = c.charCodeAt(b++);
						h = c.charCodeAt(b++);
						f = c.charCodeAt(b++);
						j = k >> 2;
						g = ((k & 3) << 4) | (h >> 4);
						e = ((h & 15) << 2) | (f >> 6);
						d = f & 63;
						if (isNaN(h)) {
							e = d = 64
						} else {
							if (isNaN(f)) {
								d = 64
							}
						}
						a = a + this.keyString.charAt(j)
								+ this.keyString.charAt(g)
								+ this.keyString.charAt(e)
								+ this.keyString.charAt(d)
					}
					return a
				},
				base64Decode : function(c) {
					var a = "";
					var k, h, f;
					var j, g, e, d;
					var b = 0;
					c = c.replace(/[^A-Za-z0-9\+\/\=]/g, "");
					while (b < c.length) {
						j = this.keyString.indexOf(c.charAt(b++));
						g = this.keyString.indexOf(c.charAt(b++));
						e = this.keyString.indexOf(c.charAt(b++));
						d = this.keyString.indexOf(c.charAt(b++));
						k = (j << 2) | (g >> 4);
						h = ((g & 15) << 4) | (e >> 2);
						f = ((e & 3) << 6) | d;
						a = a + String.fromCharCode(k);
						if (e != 64) {
							a = a + String.fromCharCode(h)
						}
						if (d != 64) {
							a = a + String.fromCharCode(f)
						}
					}
					a = this.UTF8Decode(a);
					return a
				}
			})
})();


/*===============================
http://localhost/bt_real_estate30/modules/mod_bt_googlemaps/tmpl/js/default.js
================================================================================*/;
function initializeMap(configs,markersCode,stylesCode,boxStyles){var myLatlng;configs.width=configs.width=='auto'||configs.width=='100%'?"100%":configs.width+'px';configs.height=configs.height=='auto'||configs.height=='100%'?"100%":configs.height+'px';document.getElementById(configs.cavas_id).style.width=configs.width;document.getElementById(configs.cavas_id).style.height=configs.height;var markersJson=new BT.Base64().base64Decode(markersCode);var markers=JSON.decode(markersJson);var max=markers.length;var stylesJson=new BT.Base64().base64Decode(stylesCode);var styles=JSON.decode(stylesJson);var infowindowData=Array();var map=createMapCenter(configs,markers,styles,boxStyles);function createMapCenter(configs,markers,styles,boxStyles){if(configs.mapCenterType=='address'&&configs.mapCenterAddress==''||configs.mapCenterType=='coordinate'&&configs.mapCenterCoordinate==''){if(markers.length==0){var geocoder=new google.maps.Geocoder();geocoder.geocode({'address':'A2DN3 Nguyen Khanh Toan, Cau Giay, Ha Noi'},function(results,status){if(status==google.maps.GeocoderStatus.OK){mapCenter=results[0].geometry.location;return createMap(configs,styles,markers,mapCenter,boxStyles);}else{alert("Geocode map center was not successful for the following reason: "+status);}});}else{if(markers[0].markerType=='address'){var geocoder=new google.maps.Geocoder();geocoder.geocode({'address':markers[0].markerValue},function(results,status){if(status==google.maps.GeocoderStatus.OK){mapCenter=results[0].geometry.location;return createMap(configs,styles,markers,mapCenter,boxStyles);}else{alert("Geocode was not successful for the following reason: "+status+'! Map address: '+markers[0].markerValue);}})}else{mapCenterCoordinate=markers[0].markerValue.split(',');mapCenter=new google.maps.LatLng(mapCenterCoordinate[0],mapCenterCoordinate[1]);return createMap(configs,styles,markers,mapCenter,boxStyles);}}}else{if(configs.mapCenterType=='address'){var geocoder=new google.maps.Geocoder();geocoder.geocode({'address':configs.mapCenterAddress},function(results,status){if(status==google.maps.GeocoderStatus.OK){mapCenter=results[0].geometry.location;return createMap(configs,styles,markers,mapCenter,boxStyles);}else{alert("Geocode was not successful for the following reason: "+status+'! Map address: '+configs.mapCenterAddress);}})}else{mapCenterCoordinate=configs.mapCenterCoordinate.split(',');mapCenter=new google.maps.LatLng(mapCenterCoordinate[0],mapCenterCoordinate[1]);return createMap(configs,styles,markers,mapCenter,boxStyles);}}}
function createMap(configs,styles,markers,mapCenter,boxStyles){if(configs.enableStyle==1||configs.enableStyle=='1'){var stylesArr=[];for(var j=0;j<styles.length;j++)
{var style={};style.stylers=[];if(styles[j].featureType!='all'){style.featureType=styles[j].featureType;}
if(styles[j].elementType!='all'){style.elementType=styles[j].elementType;}
if(styles[j].invertLightness=='true'){style.stylers.push({"invert_lightness":true});}
if(styles[j].visibility){style.stylers.push({"visibility":styles[j].visibility});}
if(styles[j].mapColor){style.stylers.push({"color":styles[j].mapColor});}
if(styles[j].weight){style.stylers.push({"weight":styles[j].weight});}
if(styles[j].hue){style.stylers.push({"hue":styles[j].hue});}
if(styles[j].saturation){style.stylers.push({"saturation":styles[j].saturation});}
if(styles[j].lightness){style.stylers.push({"lightness":styles[j].lightness});}
if(styles[j].gamma){style.stylers.push({"gamma":styles[j].gamma});}
stylesArr.push(style);}
if(configs.createNewOrDefault=="applyDefault"){if(stylesArr.length!=0){var mapOptions={zoom:configs.zoom,zoomControl:configs.zoomControl,scaleControl:configs.scaleControl,mapTypeControl:configs.mapTypeControl,panControl:configs.panControl,streetViewControl:configs.streetViewControl,overviewMapControl:configs.overviewMapControl,draggable:configs.draggable,disableDoubleClickZoom:configs.disableDoubleClickZoom,scrollwheel:configs.scrollwheel,center:mapCenter,mapTypeId:configs.mapType,styles:stylesArr}}else{var mapOptions={zoom:configs.zoom,zoomControl:configs.zoomControl,scaleControl:configs.scaleControl,mapTypeControl:configs.mapTypeControl,panControl:configs.panControl,streetViewControl:configs.streetViewControl,overviewMapControl:configs.overviewMapControl,draggable:configs.draggable,disableDoubleClickZoom:configs.disableDoubleClickZoom,scrollwheel:configs.scrollwheel,center:mapCenter,mapTypeId:configs.mapType}}}else{var mapOptions={zoom:configs.zoom,zoomControl:configs.zoomControl,scaleControl:configs.scaleControl,mapTypeControl:configs.mapTypeControl,panControl:configs.panControl,streetViewControl:configs.streetViewControl,overviewMapControl:configs.overviewMapControl,draggable:configs.draggable,disableDoubleClickZoom:configs.disableDoubleClickZoom,scrollwheel:configs.scrollwheel,center:mapCenter,mapTypeControlOptions:{mapTypeIds:[configs.mapType,'map_style']}}
var styledMap=new google.maps.StyledMapType(stylesArr,{name:configs.styleTitle});}}else{var mapOptions={zoom:configs.zoom,zoomControl:configs.zoomControl,scaleControl:configs.scaleControl,mapTypeControl:configs.mapTypeControl,panControl:configs.panControl,streetViewControl:configs.streetViewControl,overviewMapControl:configs.overviewMapControl,draggable:configs.draggable,disableDoubleClickZoom:configs.disableDoubleClickZoom,scrollwheel:configs.scrollwheel,center:mapCenter,mapTypeId:configs.mapType}}
var map=new google.maps.Map(document.getElementById(configs.cavas_id),mapOptions);if((configs.enableStyle==1||configs.enableStyle=='1')&&configs.createNewOrDefault=="createNew"){map.mapTypes.set('map_style',styledMap);map.setMapTypeId('map_style');}
if(configs.weather){var weatherLayer=new google.maps.weather.WeatherLayer({temperatureUnits:configs.temperatureUnit});weatherLayer.setMap(map);if(configs.cloud){var cloudLayer=new google.maps.weather.CloudLayer();cloudLayer.setMap(map);}}
for(i=0;i<markers.length;i++){getMarker(configs,markers[i],map,boxStyles);}}
function getMarker(configs,markerSource,map,boxStyles){if(markerSource.markerType=='coordinate'){coordinate=markerSource.markerValue.split(',');var pos=new google.maps.LatLng(coordinate[0],coordinate[1]);createMarker(configs,markerSource,map,pos,boxStyles);}else{var geocoder=new google.maps.Geocoder();geocoder.geocode({'address':markerSource.markerValue},function(results,status){if(status==google.maps.GeocoderStatus.OK){var pos=results[0].geometry.location;createMarker(configs,markerSource,map,pos,boxStyles);}else{alert("Geocode was not successful for the following reason: "+status+'! Map address: '+markerSource.markerValue);}})}}
function createMarker(configs,markerSource,map,pos,boxStyles){var marker,image,shadow;if(markerSource.markerIcon==''){markerSource.markerIcon=configs.url+'modules/mod_bt_googlemaps/tmpl/images/marker.png';}else{markerSource.markerIcon=configs.url+markerSource.markerIcon;}
if(markerSource.markerShadowImage==''){markerSource.markerShadowImage=configs.url+'modules/mod_bt_googlemaps/tmpl/images/shadow.png';}else{markerSource.markerShadowImage=configs.url+markerSource.markerShadowImage;}
image=new google.maps.MarkerImage(markerSource.markerIcon);shadow=new google.maps.MarkerImage(markerSource.markerShadowImage,new google.maps.Size(41,32),new google.maps.Point(0,0),new google.maps.Point(11,32));marker=new google.maps.Marker({position:pos,map:map,shadow:shadow,icon:image,title:markerSource.markerTitle});if(configs.enableCustomInfoBox==1||configs.enableCustomInfoBox=='1'){var pixelOffset=configs.boxPosition.split(',');if(configs.closeBoxImage==''){configs.closeBoxImage='modules/mod_bt_googlemaps/tmpl/images/close.gif';}
var infoBoxOption={content:markerSource.markerInfoWindow,disableAutoPan:true,maxWidth:0,pixelOffset:new google.maps.Size(Number(pixelOffset[0]),Number(pixelOffset[1])),zIndex:null,boxStyle:boxStyles,closeBoxMargin:configs.closeBoxMargin,closeBoxURL:configs.url+'/'+configs.closeBoxImage,infoBoxClearance:new google.maps.Size(1,1),isHidden:false,pane:"floatPane",enableEventPropagation:false}
var infowindow=new InfoBox(infoBoxOption);}else{var infowindow=new google.maps.InfoWindow({content:markerSource.markerInfoWindow});}
infowindowData.push(infowindow);if(markerSource.markerShowInfoWindow==1){infowindow.open(map,marker);}
google.maps.event.addListener(marker,'click',function(){infowindowData.each(function(el){el.close();});infowindow.open(map,marker);});}}


/*===============================
http://localhost/bt_real_estate30/templates/bt_real_estate/html/mod_bt_backgroundslideshow/js/default.js
================================================================================*/;
var activeContainer=1;var currentContainer=1;var interval=0;var caption='';var animating=false;var seekReady=false;var ready=false;var playheadInterval=0;var player=new Array();$B=jQuery.noConflict();$B(document).ready(function(){$B(bsData.wrapperElement).each(function(){$B(this).find('script').remove();$B(this).wrapInner('<div class="wrapp-inner"></div>');$B(this).append($B('#html-control').html());$B('#html-control').remove();$B('#cp-bg-navigation').show();return false;});if(bsData.slideshowSize=="window"){$B('#cp-bg-slide').css('position','fixed');}
else{$B('#cp-bg-slide').css('position','absolute');$B(window).bind('load',function(){resizeBackground(activeContainer);});}
if(bsData.slideshowSize=="window"&&bsData.wrapperElement=="body"){$B('#cp-bg-bar').css('position','fixed');}
else{$B('#cp-bg-bar').css('position',bsData.navPosition);}
$B('#cp-caption-inner').css('position',bsData.navPosition);if(bsData.slideshowSize=="wrapper"){$B(bsData.wrapperElement).css('position','relative');}
caption=$B('#cp-caption').html();$B('#cp-caption').html('');$B("#cp-bg-slide").append('<div class="loading"></div>');if(bsData.navType=='nav-thumb'){$B.each(bsData.photos,function(){var img=new Image();img.src=this.image.replace('/original/','/thumbnail/').replace('/slideshow/','/thumbnail/');})}else if(bsData.navType=='nav-btn'){var img=new Image();var pathway=bsData.url+'/modules/mod_bt_backgroundslideshow/tmpl/images/';img.src=pathway+'play.png';img.src=pathway+'pause.png';img.src=pathway+'next.png';img.src=pathway+'back.png';}
var total=bsData.photos.length;var u=0;$B.each(bsData.photos,function(){var img=new Image();$B(img).load(function(){bsData.photos[u].height=img.height;bsData.photos[u].width=img.width;++u;if(u==total){$B("#cp-bg-slide").find('.loading').fadeOut('fast',function(){$B(this).remove()});initSlideShow();}}).error(function(){}).attr('src',this.image);});if(bsData.hideContentButton==1){var showText="Show Content";var hideText="Hide Content";if(bsData.hideContentButtonText!=''){var text=bsData.hideContentButtonText.split('|');hideText=text[0]?text[0]:hideText;showText=text[1]?text[1]:showText;}
$B('body').append('<a href="#" class="button" rel="1" id="cp-hide-content">'+hideText+'</a>');$B('#cp-hide-content').click(function(){var rel=$B(this).attr('rel');var parent=$B('#cp-bg-slide').parent();if(rel==1){$B(parent).children().each(function(){if(this.id!='cp-bg-slide'&&this.id!='cp-bg-bar'&&this.id!='cp-bg-bar'&&this.id!='cp-hide-content'){$B(this).css('opacity',0);}});$B(this).attr('rel',0);$B(this).html(showText);}else{$B(parent).children().each(function(){if(this.id!='cp-bg-slide'&&this.id!='cp-bg-bar'&&this.id!='cp-bg-bar'&&this.id!='cp-hide-content'){$B(this).css('opacity',1);}});$B(this).attr('rel',1);$B(this).html(hideText);}
return false;});}});var navigate;function initSlideShow(){$B(window).bind('resize',function(){resizeBackground(activeContainer);});$B(bsData.wrapperElement).css('background','none');$B("#cp-back").click(function(){stopAnimation($B('#cp-pause').is(':visible'));navigate("back");var showhidevideo=parseInt($B('#cp-bg-bar .progress-button').attr('class').replace('progress-button',''));var autoplay=$B("#play-pause-btn"+activeContainer).attr('rel');eventCpNextBackSlide(showhidevideo,autoplay);});$B("#cp-next").click(function(){stopAnimation($B('#cp-pause').is(':visible'));navigate("next");var showhidevideo=parseInt($B('#cp-bg-bar .progress-button').attr('class').replace('progress-button',''));var autoplay=$B("#play-pause-btn"+activeContainer).attr('rel');eventCpNextBackSlide(showhidevideo,autoplay);});$B("#cp-pause").click(function(){stopAnimation(false);$B('#cp-pause').hide();$B('#cp-play').show();});$B("#cp-play").click(function(){stopAnimation(true);$B("#progress-background").show();$B('#cp-play').hide();$B('#cp-pause').show();});if(bsData.pauseOnHover==1){$B(document).hover(function(){stopAnimation(false);$B('#cp-pause').hide();$B('#cp-play').show();},function(){stopAnimation(true);$B("#progress-background").show();$B('#cp-play').hide();$B('#cp-pause').show();});}
var first=true;navigate=function(direction){currentContainer=activeContainer;if(!first){if(direction=="next"){if(activeContainer>=bsData.photos.length){activeContainer=1;}else if(activeContainer<=bsData.photos.length){activeContainer+=1;}}else{if(activeContainer==1){activeContainer=bsData.photos.length;}else if(activeContainer<=bsData.photos.length){activeContainer-=1;}}}else{if(bsData.rememberlast){var currentCookie=bgetCookie('slidestep');if(currentCookie){activeContainer=parseInt(currentCookie);first=false;}}}
bsetCookie('slidestep',activeContainer);showImage(currentContainer,activeContainer);$B('#cp-video'+activeContainer).click(function(){showvideo(activeContainer);replayVideo(activeContainer);});if($B('#cp-video'+activeContainer).is(':hidden')){var autoplay=$B("#play-pause-btn"+activeContainer).attr('rel');if(autoplay==1){stopAnimation(false);$B('#cp-play').show();$B('#cp-pause').hide();$B("#progress-background").hide();setTimeout('replayVideo(activeContainer)',bsData.effectTime);}else{if(bsData.autoPlay==1){$B("#progress-background").show();stopAnimation(true);};}
if($B('#cp-video'+currentContainer).is(':hidden')){pauseVideo(currentContainer);}}
else{if($B('#cp-video'+currentContainer).is(':hidden')){pauseVideo(currentContainer);}
if(bsData.autoPlay==1){$B("#progress-background").show();stopAnimation(true);$B('#cp-play').hide();$B('#cp-pause').show();}else{$B("#progress-background").show();}}};var showImage=function(currentContainer,activeContainer){var autoplay=$B("#play-pause-btn"+activeContainer).attr('rel');var controlvideo=$B('.fr-video').attr('rel');var autohidebar=$B("#ytplayer").attr('rel');if(!first){var shvideo=$B("#slideimgs").attr('rel');var effecslide=$B("#slideimg"+currentContainer).attr('rel');var ssSize=getSlideShowSize();var slidewidth=ssSize.width;var slideheight=ssSize.height;if(effecslide!=''){switch(effecslide){case'top':if(activeContainer>currentContainer){slideanimate('top',slidewidth,slideheight);}
else{slideanimate('bottom',slidewidth,slideheight);}
break;case'bottom':if(activeContainer>currentContainer){slideanimate('bottom',slidewidth,slideheight);}
else{slideanimate('top',slidewidth,slideheight);}
break;case'left':if(activeContainer>currentContainer){slideanimate('left',slidewidth,slideheight);}
else{slideanimate('right',slidewidth,slideheight);}
break;case'right':if(activeContainer>currentContainer){slideanimate('right',slidewidth,slideheight);}
else{slideanimate('left',slidewidth,slideheight);}
break;default:break;}}
else{$B("#slideimg"+currentContainer).fadeOut(bsData.effectTime);$B("#slideimg"+activeContainer).fadeIn(bsData.effectTime,function(){if(shvideo==0){hidevideo(currentContainer);}else{if($B('#cp-video'+activeContainer).is(':hidden')){showyoubarvideo(activeContainer);if(controlvideo==0){if(autohidebar!=2){$B('#cp-bg-navigation').addClass('spaceimage');$B('.progress-button').addClass('spacebarimage');}}}}});}}else{activeContainer=currentContainer;$B("#slideimg"+activeContainer).show();first=false;}
hidebarvideo();var shvideo=$B("#slideimgs").attr('rel');var itemhover=bsData.wrapperElement;if(shvideo==1){if($B('#cp-video'+activeContainer).is(':hidden')){if(autoplay==1){stopAnimation(false);$B('#cp-play').show();$B('#cp-pause').hide();$B("#progress-background").hide();bindhover();}}
else{var youid=$B("#player"+activeContainer).attr("rel");if(youid){$B('#cp-video'+activeContainer).hide();if(activeContainer==1){if(controlvideo==0){if(autohidebar!=2){$B('#cp-bg-navigation').addClass('spaceimage');$B('.progress-button').addClass('spacebarimage');}}
showyoubarvideo(activeContainer);}
clickvideo(activeContainer);bindhover();}
else{$B(".fr-video").unbind('mouseenter').unbind('mouseleave');$B(''+itemhover+'').unbind('mouseenter').unbind('mouseleave');$B('body').unbind('mouseenter').unbind('mouseleave');}}}else{$B(''+itemhover+'').unbind('mouseenter').unbind('mouseleave');$B('body').unbind('mouseenter').unbind('mouseleave');$B('#cp-bg-navigation').removeClass('spaceimage');$B('.progress-button').removeClass('spacebarimage');$B('#cp-video'+activeContainer).show();if(bsData.autoPlay==1){$B("#progress-background").show();stopAnimation(true);};}
resizeBackground(activeContainer);changeCaption(activeContainer-1);};navigate("next");if(bsData.photos.length>1){if(bsData.autoPlay){if($B('#cp-video'+activeContainer).is(':hidden')){$B("#slideimg"+activeContainer+" img").hide();var autoplayvideo=$B("#play-pause-btn"+activeContainer).attr('rel');if(autoplayvideo==1){stopAnimation(false);}
else{stopAnimation(true);}}
$B('#cp-pause').show();$B('#cp-play').hide();}else{if($B('#cp-video'+activeContainer).is(':hidden')){$B("#slideimg"+activeContainer+" img").hide();}
$B('#cp-pause').hide();$B('#cp-play').show();}
$B('#cp-bg-bar').show();}else{if($B('#cp-video'+activeContainer).is(':hidden')){$B("#slideimg"+activeContainer+" img").hide();}
$B('.progress-button').hide();stopAnimation(false);$B('#cp-bg-bar').show();}
if(bsData.navType=='nav-thumb'){bsData.thumbNumber_store=bsData.thumbNumber;var widthThumb=$B('#thumbimgs .thumbimg').outerWidth(true);var heightThumb=$B('#thumbimgs .thumbimg').outerHeight(true);var length=$B('#thumbimgs .thumbimg').length;var distance=widthThumb*bsData.thumbNumber_store+2*$B('#nav-back').outerWidth(true)+20-$B("#cp-bg-navigation").parent().width();if(distance>0){bsData.thumbNumber=bsData.thumbNumber_store-Math.ceil(distance/widthThumb);}
$B('#thumbimgs').width(widthThumb*bsData.thumbNumber);$B('#thumbimgs-inner').width(widthThumb*length);$B('#thumbimgs').height(heightThumb);$B('.nav-btn').css('marginTop',(heightThumb-$B('.nav-btn').height())/2);$B("#nav-back").click(function(){if(animating)return;animating=true;if(parseInt($B('#thumbimgs-inner').css('left'))<0){$B('#thumbimgs-inner').stop();if(parseInt($B('#thumbimgs-inner').css('left'))+widthThumb<=0){$B('#thumbimgs-inner').animate({left:'+='+widthThumb},function(){animating=false;});}else{$B('#thumbimgs-inner').animate({left:0},function(){animating=false;});}}
else{$B('#thumbimgs-inner').animate({left:-1*widthThumb*(length-bsData.thumbNumber)},function(){animating=false;});}});$B("#nav-next").click(function(){if(animating)return;animating=true;if(Math.abs(parseInt($B('#thumbimgs-inner').css('left')))<widthThumb*(length-bsData.thumbNumber)){$B('#thumbimgs-inner').stop();if(Math.abs(parseInt($B('#thumbimgs-inner').css('left')))<widthThumb*(length-bsData.thumbNumber)){$B('#thumbimgs-inner').animate({left:'-='+widthThumb},function(){animating=false;});}else{$B('#thumbimgs-inner').animate({left:-1*widthThumb*(length-bsData.thumbNumber)},function(){animating=false;});}}else{$B('#thumbimgs-inner').animate({left:0},function(){animating=false;});}});$B(window).resize(function(){var distance=widthThumb*bsData.thumbNumber_store+2*$B('#nav-back').outerWidth(true)+20-$B("#cp-bg-navigation").parent().width();if(distance>0){bsData.thumbNumber=bsData.thumbNumber_store-Math.ceil(distance/widthThumb);$B('#thumbimgs').width(widthThumb*bsData.thumbNumber);}else{bsData.thumbNumber=bsData.thumbNumber_store;$B('#thumbimgs').width(widthThumb*bsData.thumbNumber);}});}
$B('#thumbimgs .thumbimg,#cp-bullet span').click(function(){if(!$B(this).hasClass('active')){stopAnimation(!bsData.stopAuto);currentContainer=activeContainer;activeContainer=parseInt($B(this).attr('id').replace('thumbimg','').replace('bullet',''));showImage(currentContainer,activeContainer);}
var autoplay=$B("#play-pause-btn"+activeContainer).attr('rel');var showhidevideo=$B("#slideimgs").attr('rel');eventThumbNextBackSlide(showhidevideo,autoplay);$B('#cp-video'+activeContainer).click(function(){showvideo(activeContainer);replayVideo(activeContainer);});});var showvideo=(function(activeContainer){$B("#slideimg"+activeContainer+' .fr-video').show('easing');showyoubarvideo(activeContainer);$B("#progress-background").hide();$B('#cp-video'+activeContainer).hide();$B('#cp-play').show();$B('#cp-pause').hide();var controlvideo=$B('.fr-video').attr('rel');var autohidebar=$B("#ytplayer").attr('rel');if(controlvideo==0){if(autohidebar!=2){$B('#cp-bg-navigation').addClass('spaceimage');$B('.progress-button').addClass('spacebarimage');}}
stopAnimation(false);clickvideo(activeContainer);});var hidevideo=(function(activeContainer){$B("#slideimg"+activeContainer+' .fr-video').hide();});controlPosition();}
var eventCpNextBackSlide=(function(showhidevideo,autoplay){if(showhidevideo==0){$B(".fr-video").unbind('mouseenter').unbind('mouseleave');if($B('#cp-video'+currentContainer).is(':hidden')){pauseVideo(currentContainer);}}
else{if($B('#cp-video'+activeContainer).is(':hidden')){if(autoplay==1){stopAnimation(false);$B('#cp-play').show();$B('#cp-pause').hide();setTimeout('replayVideo(activeContainer)',1200);}
else{if(bsData.autoPlay==1){$B("#progress-background").show();stopAnimation(true);$B('#cp-play').hide();$B('#cp-pause').show();}}
if($B('#cp-video'+currentContainer).is(':hidden')){pauseVideo(currentContainer);setStateVideo('paused',currentContainer);}}
else{$B(".fr-video").unbind('mouseenter').unbind('mouseleave');if($B('#cp-video'+currentContainer).is(':hidden')){pauseVideo(currentContainer);setStateVideo('paused',currentContainer);}
if(bsData.autoPlay==1){$B("#progress-background").show();stopAnimation(true);$B('#cp-play').hide();$B('#cp-pause').show();}else{$B("#progress-background").show();}}}});var eventThumbNextBackSlide=(function(showhidevideo,autoplay){if(showhidevideo==0){if(!$B('#cp-video'+activeContainer).is(':hidden')){$B("#progress-background").show();if($B('#cp-video'+currentContainer).is(':hidden')){pauseVideo(currentContainer);}}
$B(".fr-video").unbind('mouseenter').unbind('mouseleave');}
else{if($B('#cp-video'+activeContainer).is(':hidden')){bindhover();var autoplay=$B("#play-pause-btn"+activeContainer).attr('rel');if(autoplay==1){stopAnimation(false);$B("#progress-background").hide();setTimeout('replayVideo(activeContainer)',1200);}else{if(bsData.autoPlay==1){if(currentContainer!=activeContainer){stopAnimation(true);$B("#progress-background").show();}}}
if($B('#cp-video'+currentContainer).is(':hidden')&&currentContainer!=activeContainer){pauseVideo(currentContainer);setStateVideo('paused',currentContainer);}}
else{if($B('#cp-video'+currentContainer).is(':hidden')&&currentContainer!=activeContainer){pauseVideo(currentContainer);setStateVideo('paused',currentContainer);}
$B("#cp-bg-bar").animate({opacity:"1",bottom:'0px'},20);$B(".fr-video").unbind('mouseenter').unbind('mouseleave');$B('#cp-bg-navigation').removeClass('spaceimage');if(bsData.autoPlay==1){if(currentContainer!=activeContainer){$B("#progress-background").show();stopAnimation(true);}}else{$B("#progress-background").show();}}}});var stopAnimation=function(reset){progressBarReset();clearInterval(interval);if(reset){progressBar();interval=setInterval(function(){navigate("next");progressBar();},bsData.slideshowSpeed);}};var slideanimate=(function(navigate,slidewidth,slideheight){var shvideo=$B("#slideimgs").attr('rel');var controlvideo=$B('.fr-video').attr('rel');var autohidebar=$B("#ytplayer").attr('rel');switch(navigate){case'top':$B("#slideimg"+activeContainer).css({top:'-'+slideheight+'px'});$B("#slideimg"+currentContainer).stop(true).animate({opacity:1,top:slidewidth+'px'},1000);$B("#slideimg"+activeContainer).show().stop(true).animate({opacity:1,top:'0px'},1000,function(){showhidebarvideo(shvideo,controlvideo,autohidebar);});return;case'bottom':$B("#slideimg"+activeContainer).css({top:slideheight+'px'});$B("#slideimg"+currentContainer).stop(true).animate({opacity:1,top:'-'+slidewidth+'px'},1000);$B("#slideimg"+activeContainer).show().stop(true).animate({opacity:1,top:'0px'},1000,function(){showhidebarvideo(shvideo,controlvideo,autohidebar);});return;case'left':$B("#slideimg"+activeContainer).css({left:'-'+slidewidth+'px'});$B("#slideimg"+currentContainer).stop(true).animate({opacity:1,left:slidewidth+'px'},1000);$B("#slideimg"+activeContainer).show().stop(true).animate({opacity:1,left:'0px'},1000,function(){showhidebarvideo(shvideo,controlvideo,autohidebar);});return;case'right':$B("#slideimg"+activeContainer).css({left:slidewidth+'px'});$B("#slideimg"+currentContainer).stop(true).animate({opacity:1,left:'-'+slidewidth+'px'},1000);$B("#slideimg"+activeContainer).show().stop(true).animate({opacity:1,left:'0px'},1000,function(){showhidebarvideo(shvideo,controlvideo,autohidebar);});return;}});var showhidebarvideo=(function(shvideo,controlvideo,autohidebar){if(shvideo==0){$B("#slideimg"+currentContainer+' .fr-video').hide();}else{if($B('#cp-video'+activeContainer).is(':hidden')){showyoubarvideo(activeContainer);if(controlvideo==0){if(autohidebar!=2){$B('#cp-bg-navigation').addClass('spaceimage');$B('.progress-button').addClass('spacebarimage');}}}}
$B('.slideimg[id!="slideimg'+activeContainer+'"]').hide();});function onYouTubeIframeAPIReady(){$B('.fr-video').each(function(){$player=$B('.player',this);var ytid=$player.attr('rel');var id=$player.attr('id').replace('player','');var controlvideo=$B('.fr-video').attr('rel');var autohidebar=$B("#ytplayer").attr('rel');if(autohidebar==2)controlvideo=0;player[id]=new YT.Player('player'+id,{height:'100%',width:'100%',videoId:ytid,playerVars:{'html5':1,'rel':0,'controls':controlvideo,'autoplay':0,'hd':1,'autohide':autohidebar,'wmode':'opaque','showinfo':0},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}});});}
var clickvideo=(function(activeContainer){$B('#play-pause-btn'+activeContainer).click(function(){$B("#progress-background").hide();stopAnimation(false);if(!ready)return;playPause(activeContainer);});$B('#seekbar'+activeContainer).click(function(e){if(!seekReady)return;else{var navposition=bsData.navPosition;if(navposition=="absolute"){if(bsData.slideshowSize=="specific"){wSize=bsData.slideshowWidth;}else{var itemhover=bsData.wrapperElement;wSize=$B(''+itemhover+'').width();}}
else{wSize=$B(window).width();}
var localX=(e.pageX-$B(this).offset().left);if(localX>(wSize-81))localX=(wSize-81);var percent=localX/(wSize-81);seekToPercent(percent);}});$B('#mute-btn'+activeContainer).click(function(){if(!ready)return;toggleSound();});bindhover();});var i=null;var bindhover=(function(){if($B('.fr-video').attr('rel')==1)return;$B('.fr-video').bind({mouseenter:function(){clearTimeout(i);$B("#cp-bg-bar").stop(true).animate({opacity:"1",bottom:'0px'},500);},mouseleave:function(){var heightthumb=(bsData.thumbHeight+40);clearTimeout(i);i=setTimeout('$B("#cp-bg-bar").stop(true).animate({opacity: "1",bottom :"0px"}, 1000);',500);}});$B("#cp-bg-bar").bind({mouseenter:function(){clearTimeout(i);$B("#cp-bg-bar").stop(true).animate({opacity:"1",bottom:'0px'},800);}});});var hidebarvideo=(function(){$B("#ytplayer").hide();$B(".play-rel").hide();$B(".seekbarscroll").hide();$B(".mute-btn").hide();$B('.progress-button').removeClass('spacebarimage');$B('#cp-bg-navigation').removeClass('spaceimage');});var showyoubarvideo=(function(activeContainer){var controlvideo=$B('.fr-video').attr('rel');var autohidebar=$B("#ytplayer").attr('rel');if(controlvideo==0){if(autohidebar!=2){$B("#play-pause-btn"+activeContainer).fadeIn('slow');$B("#seekbar"+activeContainer).fadeIn('slow');$B("#mute-btn"+activeContainer).fadeIn('slow');$B("#ytplayer").fadeIn('slow');}}
var navposition;if(bsData.slideshowSize=="window"&&bsData.wrapperElement=="body"){navposition='fixed';}else{navposition=bsData.navPosition;}
var itemhover=bsData.wrapperElement;if(itemhover!='body'){$B(''+itemhover+'').css({'overflow':'hidden'});}
if(autohidebar==1){if($B('.fr-video').attr('rel')==1)return;if(navposition=='absolute'){if(itemhover!='body'&&itemhover!=""){eventMouse(''+itemhover+'');}
else{eventMouse('body');}}
else{eventMouse('body');}}});var eventMouse=(function(event){$B(event).bind({mouseenter:function(){clearTimeout(i);$B("#cp-bg-bar").stop(true).animate({opacity:"1",bottom:'0px'},500);},mousemove:function(p){clearTimeout(i);$B("#cp-bg-bar").stop(true).animate({opacity:"1",bottom:'0px'},500);},mouseleave:function(){var heightthumb=(bsData.thumbHeight+40);clearTimeout(i);$B("#cp-bg-bar").stop(true).animate({opacity:"1",bottom:'-'+heightthumb+'px'},1000);}});});function onPlayerReady(event){if($B('#cp-video'+activeContainer).is(':hidden')){var autoplay=$B("#play-pause-btn"+activeContainer).attr('rel');if(autoplay==1){replayVideo(activeContainer);}}
ready=true;}
var done=false;var i=0;function onPlayerStateChange(event){switch(event.data){case-1:return;case 0:resetPlayer();if(bsData.autoPlay==1){if(bsData.photos.length>1){$B("#progress-background").show();clearTimeout(i);i=setTimeout(function(){navigate("next");},500);stopAnimation(true);}
else{replayVideo(activeContainer);}}
return;case 1:$B("#progress-background").hide();stopAnimation(false);$B('#cp-play').show();$B('#cp-pause').hide();seekReady=true;playheadInterval=setInterval(updatePlayhead,10);setStateVideo('playing',activeContainer);return;case 2:setStateVideo('paused',activeContainer);return;case 3:setStateVideo('buffering',activeContainer);return;case 5:resetPlayer();ready=true;return;}}
var setStateVideo=(function(state,activeContainer){switch(state){case'playing':$B('#play-pause-btn'+activeContainer).removeClass('btn-paused');$B('#play-pause-btn'+activeContainer).removeClass('btn-buffering');$B('#play-pause-btn'+activeContainer).addClass('btn-playing');return;case'paused':$B('#play-pause-btn'+activeContainer).removeClass('btn-playing');$B('#play-pause-btn'+activeContainer).removeClass('btn-buffering');$B('#play-pause-btn'+activeContainer).addClass('btn-paused');return;case'buffering':$B('#play-pause-btn'+activeContainer).removeClass('btn-playing');$B('#play-pause-btn'+activeContainer).removeClass('btn-paused');$B('#play-pause-btn'+activeContainer).addClass('btn-buffering');return;default:return;}});var updatePlayhead=function(){if(player[activeContainer]){if(typeof(player[activeContainer].getCurrentTime)=='undefined'){clearInterval(playheadInterval);return;}
var navposition=bsData.navPosition;if(navposition=="absolute"){if(bsData.slideshowSize=="specific"){wSize=bsData.slideshowWidth;}else{var itemhover=bsData.wrapperElement;wSize=$B(''+itemhover+'').width();}}else{wSize=$B(window).width();}
var percentage=player[activeContainer].getCurrentTime()/player[activeContainer].getDuration();$B('#seekbar'+activeContainer).css('background-position',Math.round(percentage*(wSize-81))+'px 0px');}}
var resetPlayer=function(){$B('#play-pause-btn'+activeContainer).removeClass('btn-playing')
$B('#play-pause-btn'+activeContainer).removeClass('btn-buffering')
$B('#play-pause-btn'+activeContainer).addClass('btn-paused');$B('#seekbar'+activeContainer).css('background-position','0px 0px');}
var seekToPercent=function(percent){var time=percent*player[activeContainer].getDuration();player[activeContainer].seekTo(time,true);}
var toggleSound=function(){if(player[activeContainer].isMuted()){player[activeContainer].unMute();$B('#mute-btn'+activeContainer).css('background-position','0px 0px');}else{player[activeContainer].mute();$B('#mute-btn'+activeContainer).css('background-position','0px -40px');}}
function pauseVideo(activeContainer){if(typeof(player[activeContainer])!="undefined"){if(typeof(player[activeContainer].pauseVideo)=='function'){player[activeContainer].pauseVideo();}}}
function replayVideo(activeContainer){if(typeof(player[activeContainer])!="undefined"){if(typeof(player[activeContainer].playVideo)=='function'){player[activeContainer].playVideo();var volume=$B("#mute-btn"+activeContainer).attr('rel');var quality=$B("#seekbar"+activeContainer).attr('rel');player[activeContainer].setVolume(volume);player[activeContainer].setPlaybackQuality(quality);}}}
var playPause=function(activeContainer){var index=activeContainer;switch(player[index].getPlayerState()){case-1:case 0:case 2:case 5:player[index].playVideo();return;case 1:player[index].pauseVideo();return;case 3:player[index].pauseVideo();return;default:return;}}
function changeCaption(index){var photoObj=bsData.photos[index];$B('#cp-caption').fadeOut(function(){if(!photoObj.desc&&!photoObj.title){$B("#cp-caption").hide();return;}else{$B("#cp-caption").show();}
$B("#cp-caption").html(caption);if($B("#cp-caption .cp-link").length&&photoObj.link!=''){$B("#cp-caption .cp-link").html(photoObj.title);$B("#cp-caption .cp-link").attr('href',photoObj.link);$B("#cp-caption .cp-link").attr('target',photoObj.target);}else{$B("#cp-caption .cp-title").html(photoObj.title);}
if(photoObj.desc){$B("#cp-caption .cp-desc").show();$B("#cp-caption .cp-desc").html(photoObj.desc);}else{$B("#cp-caption .cp-desc").hide();}
$B("#cp-caption").fadeIn(bsData.effectTime);});if(bsData.navType=='nav-thumb'){index++;$B('#thumbimgs .thumbimg').removeClass('active');$B('#thumbimg'+index).addClass('active');var width=$B('#thumbimgs .active').outerWidth(true);var left=$B('#thumbimgs .active').position().left+$B('#thumbimgs .active').outerWidth(true);var step=Math.round(($B('#thumbimgs .active').position().left+$B('#thumbimgs-inner').position().left)/width);if(step>=bsData.thumbNumber){move=width*(step-bsData.thumbNumber+1);$B('#thumbimgs-inner').animate({left:'-='+move});}
if(step<0){move=-1*width*step;$B('#thumbimgs-inner').animate({left:'+='+move});}}else if(bsData.navType=='nav-bullet'){index++;$B('#cp-bullet span').removeClass('active');$B('#bullet'+index).addClass('active');}}
function resizeBackground(index){var el="#slideimg"+index+' img';var ssSize=getSlideShowSize();wSize=ssSize.width+'px';wHeight=ssSize.height+'px';var hAlign=false;var vAlign=true;var img=bsData.photos[index-1];if($B(el).length){switch(bsData.resizeImage){case'fitwidth':$B("#slideimgs img").css({'width':wSize,'height':'auto'});break;case'fitheight':$B("#slideimgs img").css({'width':'auto','height':wHeight});hAlign=true;vAlign=false;break;case'stretch':$B("#slideimgs img").css({'width':wSize,'height':wHeight});vAlign=false;break;case'auto':if(ssSize.width*parseInt(img.height)/parseInt(img.width)<ssSize.height){$B(el).css({'width':'auto','height':wHeight});hAlign=true;}else{$B(el).css({'width':wSize,'height':'auto'});}
break;default:hAlign=true;}}
if(bsData.slideshowSize!="window"&&bsData.navPosition=='absolute'){var shvideo=$B("#slideimgs").attr('rel');if(shvideo==1){$B('#cp-bg-bar').css({'bottom':'0px'});}else{$B('#cp-bg-bar').css({'top':ssSize.height-$B('#cp-bg-bar').height()});}}
$B('#cp-bg-slide').css({'width':wSize,'height':wHeight});$B(el).css('position','absolute');if(hAlign){switch(bsData.hAlign){case'l':$B(el).css('left',0);break;case'r':$B(el).css({'left':'auto','right':0});break;case'c':$B(el).css('left',((ssSize.width-$B(el).width())/2));break;}}else{$B(el).css('left',0);}
if(vAlign){switch(bsData.vAlign){case't':$B(el).css('top',0);break;case'b':$B(el).css({'top':'auto','bottom':0});break;case'm':$B(el).css('top',((ssSize.height-$B(el).height())/2));break;}}else{$B("#slideimg"+index).css('top',0);}
controlPosition();}
function progressBar(){var ssSize=bsData.navPosition=='fixed'?{width:$B(window).width(),height:$B(window).height()}:getSlideShowSize();$B('#progress-bar,progress-background').width(ssSize.width+'px');$B('#progress-bar').stop().animate({left:-ssSize.width},0).animate({left:0},bsData.slideshowSpeed);}
function progressBarReset(){var ssSize=bsData.navPosition=='fixed'?{width:$B(window).width(),height:$B(window).height()}:getSlideShowSize();$B('#progress-bar').stop().css('left',-ssSize.width);}
function preloadImage(photos){}
function controlPosition(){var ssSize=bsData.navPosition=='fixed'?{width:$B(window).width(),height:$B(window).height()}:getSlideShowSize();var el='';if(bsData.navType=='nav-btn'){el='.progress-button';}
else{$B('.progress-button').addClass('button-justify');$B('#cp-back,#cp-next,#cp-pause,#cp-play').css({'top':-1*(ssSize.height+$B('#cp-back').height())/2});if(bsData.navType=='nav-thumb'){el='#cp-bg-navigation';}else{return;}}
if(bsData.navAlign=='left'){$B(el).css({'float':bsData.navAlign});}else if(bsData.navAlign=='right'){$B(el).css({'float':bsData.navAlign,'right':0});}else if(bsData.navAlign=='center'){$B(el).css('left',(ssSize.width-$B(el).width())/2);}else if(bsData.navAlign=='justify'){$B('.progress-button').addClass('button-justify');$B('#cp-bg-bar').height(0);$B('#cp-back,#cp-next,#cp-pause,#cp-play').css({'top':-1*(ssSize.height+$B('#cp-back').height())/2});}}
function getSlideShowSize(){switch(bsData.slideshowSize){case'document':return{width:$B(document).width(),height:$B(document).height()};case'wrapper':return{width:$B(bsData.wrapperElement).innerWidth(),height:$B(bsData.wrapperElement).innerHeight()};case'specific':return{width:(bsData.slideshowWidth?bsData.slideshowWidth:$B(bsData.wrapperElement).innerWidth()),height:(bsData.slideshowHeight?bsData.slideshowHeight:$B(bsData.wrapperElement).innerHeight())};default:return{width:$B(window).width(),height:$B(window).height()};}}
function bsetCookie(cname,cvalue,exdays)
{var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toGMTString();document.cookie=cname+"="+cvalue+"; "+expires;}
function bgetCookie(cname)
{var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++)
{var c=ca[i].trim();if(c.indexOf(name)==0)return c.substring(name.length,c.length);}
return"";}


/*===============================
/bt_real_estate30/media/com_finder/js/autocompleter.js
================================================================================*/;
var Observer=new Class({Implements:[Options,Events],options:{periodical:false,delay:1000},initialize:function(el,onFired,options){this.element=document.id(el)||$document.id(el);this.addEvent('onFired',onFired);this.setOptions(options);this.bound=this.changed.bind(this);this.resume();},changed:function(){var value=this.element.get('value');if($equals(this.value,value))return;this.clear();this.value=value;this.timeout=this.onFired.delay(this.options.delay,this);},setValue:function(value){this.value=value;this.element.set('value',value);return this.clear();},onFired:function(){this.fireEvent('onFired',[this.value,this.element]);},clear:function(){clearTimeout(this.timeout||null);return this;},pause:function(){if(this.timer)clearTimeout(this.timer);else this.element.removeEvent('keyup',this.bound);return this.clear();},resume:function(){this.value=this.element.get('value');if(this.options.periodical)this.timer=this.changed.periodical(this.options.periodical,this);else this.element.addEvent('keyup',this.bound);return this;}});var $equals=function(obj1,obj2){return(obj1==obj2||JSON.encode(obj1)==JSON.encode(obj2));};var Autocompleter=new Class({Implements:[Options,Events],options:{minLength:1,markQuery:true,width:'inherit',maxChoices:10,injectChoice:null,customChoices:null,emptyChoices:null,visibleChoices:true,className:'autocompleter-choices',zIndex:1000,delay:400,observerOptions:{},fxOptions:{},autoSubmit:false,overflow:false,overflowMargin:25,selectFirst:false,filter:null,filterCase:false,filterSubset:false,forceSelect:false,selectMode:true,choicesMatch:null,multiple:false,separator:', ',separatorSplit:/\s*[,;]\s*/,autoTrim:false,allowDupes:false,cache:true,relative:false},initialize:function(element,options){this.element=document.id(element);this.setOptions(options);this.build();this.observer=new Observer(this.element,this.prefetch.bind(this),Object.merge({},{'delay':this.options.delay},this.options.observerOptions));this.queryValue=null;if(this.options.filter)this.filter=this.options.filter.bind(this);var mode=this.options.selectMode;this.typeAhead=(mode=='type-ahead');this.selectMode=(mode===true)?'selection':mode;this.cached=[];},build:function(){if(document.id(this.options.customChoices)){this.choices=this.options.customChoices;}else{this.choices=new Element('ul',{'class':this.options.className,'styles':{'zIndex':this.options.zIndex}}).inject(document.body);this.relative=false;if(this.options.relative){this.choices.inject(this.element,'after');this.relative=this.element.getOffsetParent();}
this.fix=new OverlayFix(this.choices);}
if(!this.options.separator.test(this.options.separatorSplit)){this.options.separatorSplit=this.options.separator;}
this.fx=(!this.options.fxOptions)?null:new Fx.Tween(this.choices,Object.merge({},{'property':'opacity','link':'cancel','duration':200},this.options.fxOptions)).addEvent('onStart',Chain.prototype.clearChain).set(0);this.element.setProperty('autocomplete','off').addEvent((Browser.ie||Browser.safari||Browser.chrome)?'keydown':'keypress',this.onCommand.bind(this)).addEvent('click',this.onCommand.bind(this,[false])).addEvent('focus',this.toggleFocus.pass({bind:this,arguments:true,delay:100})).addEvent('blur',this.toggleFocus.pass({bind:this,arguments:false,delay:100}));},destroy:function(){if(this.fix)this.fix.destroy();this.choices=this.selected=this.choices.destroy();},toggleFocus:function(state){this.focussed=state;if(!state)this.hideChoices(true);this.fireEvent((state)?'onFocus':'onBlur',[this.element]);},onCommand:function(e){if(!e&&this.focussed)return this.prefetch();if(e&&e.key&&!e.shift){switch(e.key){case'enter':if(this.element.value!=this.opted)return true;if(this.selected&&this.visible){this.choiceSelect(this.selected);return!!(this.options.autoSubmit);}
break;case'up':case'down':if(!this.prefetch()&&this.queryValue!==null){var up=(e.key=='up');this.choiceOver((this.selected||this.choices)[(this.selected)?((up)?'getPrevious':'getNext'):((up)?'getLast':'getFirst')](this.options.choicesMatch),true);}
return false;case'esc':case'tab':this.hideChoices(true);break;}}
return true;},setSelection:function(finish){var input=this.selected.inputValue,value=input;var start=this.queryValue.length,end=input.length;if(input.substr(0,start).toLowerCase()!=this.queryValue.toLowerCase())start=0;if(this.options.multiple){var split=this.options.separatorSplit;value=this.element.value;start+=this.queryIndex;end+=this.queryIndex;var old=value.substr(this.queryIndex).split(split,1)[0];value=value.substr(0,this.queryIndex)+input+value.substr(this.queryIndex+old.length);if(finish){var tokens=value.split(this.options.separatorSplit).filter(function(entry){return this.test(entry);},/[^\s,]+/);if(!this.options.allowDupes)tokens=[].combine(tokens);var sep=this.options.separator;value=tokens.join(sep)+sep;end=value.length;}}
this.observer.setValue(value);this.opted=value;if(finish||this.selectMode=='pick')start=end;this.element.selectRange(start,end);this.fireEvent('onSelection',[this.element,this.selected,value,input]);},showChoices:function(){var match=this.options.choicesMatch,first=this.choices.getFirst(match);this.selected=this.selectedValue=null;if(this.fix){var pos=this.element.getCoordinates(this.relative),width=this.options.width||'auto';this.choices.setStyles({'left':pos.left,'top':pos.bottom,'width':(width===true||width=='inherit')?pos.width:width});}
if(!first)return;if(!this.visible){this.visible=true;this.choices.setStyle('display','');if(this.fx)this.fx.start(1);this.fireEvent('onShow',[this.element,this.choices]);}
if(this.options.selectFirst||this.typeAhead||first.inputValue==this.queryValue)this.choiceOver(first,this.typeAhead);var items=this.choices.getChildren(match),max=this.options.maxChoices;var styles={'overflowY':'hidden','height':''};this.overflown=false;if(items.length>max){var item=items[max-1];styles.overflowY='scroll';styles.height=item.getCoordinates(this.choices).bottom;this.overflown=true;};this.choices.setStyles(styles);this.fix.show();if(this.options.visibleChoices){var scroll=document.getScroll(),size=document.getSize(),coords=this.choices.getCoordinates();if(coords.right>scroll.x+size.x)scroll.x=coords.right-size.x;if(coords.bottom>scroll.y+size.y)scroll.y=coords.bottom-size.y;window.scrollTo(Math.min(scroll.x,coords.left),Math.min(scroll.y,coords.top));}},hideChoices:function(clear){if(clear){var value=this.element.value;if(this.options.forceSelect)value=this.opted;if(this.options.autoTrim){value=value.split(this.options.separatorSplit).filter($arguments(0)).join(this.options.separator);}
this.observer.setValue(value);}
if(!this.visible)return;this.visible=false;if(this.selected)this.selected.removeClass('autocompleter-selected');this.observer.clear();var hide=function(){this.choices.setStyle('display','none');this.fix.hide();}.bind(this);if(this.fx)this.fx.start(0).chain(hide);else hide();this.fireEvent('onHide',[this.element,this.choices]);},prefetch:function(){var value=this.element.value,query=value;if(this.options.multiple){var split=this.options.separatorSplit;var values=value.split(split);var index=this.element.getSelectedRange().start;var toIndex=value.substr(0,index).split(split);var last=toIndex.length-1;index-=toIndex[last].length;query=values[last];}
if(query.length<this.options.minLength){this.hideChoices();}else{if(query===this.queryValue||(this.visible&&query==this.selectedValue)){if(this.visible)return false;this.showChoices();}else{this.queryValue=query;this.queryIndex=index;if(!this.fetchCached())this.query();}}
return true;},fetchCached:function(){return false;if(!this.options.cache||!this.cached||!this.cached.length||this.cached.length>=this.options.maxChoices||this.queryValue)return false;this.update(this.filter(this.cached));return true;},update:function(tokens){this.choices.empty();this.cached=tokens;var type=tokens&&typeOf(tokens);if(!type||(type=='array'&&!tokens.length)||(type=='hash'&&!tokens.getLength())){(this.options.emptyChoices||this.hideChoices).call(this);}else{if(this.options.maxChoices<tokens.length&&!this.options.overflow)tokens.length=this.options.maxChoices;tokens.each(this.options.injectChoice||function(token){var choice=new Element('li',{'html':this.markQueryValue(token)});choice.inputValue=token;this.addChoiceEvents(choice).inject(this.choices);},this);this.showChoices();}},choiceOver:function(choice,selection){if(!choice||choice==this.selected)return;if(this.selected)this.selected.removeClass('autocompleter-selected');this.selected=choice.addClass('autocompleter-selected');this.fireEvent('onSelect',[this.element,this.selected,selection]);if(!this.selectMode)this.opted=this.element.value;if(!selection)return;this.selectedValue=this.selected.inputValue;if(this.overflown){var coords=this.selected.getCoordinates(this.choices),margin=this.options.overflowMargin,top=this.choices.scrollTop,height=this.choices.offsetHeight,bottom=top+height;if(coords.top-margin<top&&top)this.choices.scrollTop=Math.max(coords.top-margin,0);else if(coords.bottom+margin>bottom)this.choices.scrollTop=Math.min(coords.bottom-height+margin,bottom);}
if(this.selectMode)this.setSelection();},choiceSelect:function(choice){if(choice)this.choiceOver(choice);this.setSelection(true);this.queryValue=false;this.hideChoices();},filter:function(tokens){return(tokens||this.tokens).filter(function(token){return this.test(token);},new RegExp(((this.options.filterSubset)?'':'^')+this.queryValue.escapeRegExp(),(this.options.filterCase)?'':'i'));},markQueryValue:function(str){return(!this.options.markQuery||!this.queryValue)?str:str.replace(new RegExp('('+((this.options.filterSubset)?'':'^')+this.queryValue.escapeRegExp()+')',(this.options.filterCase)?'':'i'),'<span class="autocompleter-queried">$1</span>');},addChoiceEvents:function(el){return el.addEvents({'mouseover':this.choiceOver.bind(this,el),'click':this.choiceSelect.bind(this,el)});}});var OverlayFix=new Class({initialize:function(el){if(Browser.ie){this.element=document.id(el);this.relative=this.element.getOffsetParent();this.fix=new Element('iframe',{'frameborder':'0','scrolling':'no','src':'javascript:false;','styles':{'position':'absolute','border':'none','display':'none','filter':'progid:DXImageTransform.Microsoft.Alpha(opacity=0)'}}).inject(this.element,'after');}},show:function(){if(this.fix){var coords=this.element.getCoordinates(this.relative);delete coords.right;delete coords.bottom;this.fix.setStyles(Object.append(coords,{'display':'','zIndex':(this.element.getStyle('zIndex')||1)-1}));}
return this;},hide:function(){if(this.fix)this.fix.setStyle('display','none');return this;},destroy:function(){if(this.fix)this.fix=this.fix.destroy();}});Element.implement({getSelectedRange:function(){if(!Browser.ie)return{start:this.selectionStart,end:this.selectionEnd};var pos={start:0,end:0};var range=this.getDocument().selection.createRange();if(!range||range.parentElement()!=this)return pos;var dup=range.duplicate();if(this.type=='text'){pos.start=0-dup.moveStart('character',-100000);pos.end=pos.start+range.text.length;}else{var value=this.value;var offset=value.length-value.match(/[\n\r]*$/)[0].length;dup.moveToElementText(this);dup.setEndPoint('StartToEnd',range);pos.end=offset-dup.text.length;dup.setEndPoint('StartToStart',range);pos.start=offset-dup.text.length;}
return pos;},selectRange:function(start,end){if(Browser.ie){var diff=this.value.substr(start,end-start).replace(/\r/g,'').length;start=this.value.substr(0,start).replace(/\r/g,'').length;var range=this.createTextRange();range.collapse(true);range.moveEnd('character',start+diff);range.moveStart('character',start);range.select();}else{this.focus();this.setSelectionRange(start,end);}
return this;}});Autocompleter.Base=Autocompleter;Autocompleter.Request=new Class({Extends:Autocompleter,options:{postData:{},ajaxOptions:{},postVar:'value'},query:function(){var data=this.options.postData.unlink||{};data[this.options.postVar]=this.queryValue;var indicator=document.id(this.options.indicator);if(indicator)indicator.setStyle('display','');var cls=this.options.indicatorClass;if(cls)this.element.addClass(cls);this.fireEvent('onRequest',[this.element,this.request,data,this.queryValue]);this.request.send({'data':data});},queryResponse:function(){var indicator=document.id(this.options.indicator);if(indicator)indicator.setStyle('display','none');var cls=this.options.indicatorClass;if(cls)this.element.removeClass(cls);return this.fireEvent('onComplete',[this.element,this.request]);}});Autocompleter.Request.JSON=new Class({Extends:Autocompleter.Request,initialize:function(el,url,options){this.parent(el,options);this.request=new Request.JSON(Object.merge({},{'url':url,'link':'cancel'},this.options.ajaxOptions)).addEvent('onComplete',this.queryResponse.bind(this));},queryResponse:function(response){this.parent();this.update(response);}});Autocompleter.Request.HTML=new Class({Extends:Autocompleter.Request,initialize:function(el,url,options){this.parent(el,options);this.request=new Request.HTML(Object.merge({},{'url':url,'link':'cancel','update':this.choices},this.options.ajaxOptions)).addEvent('onComplete',this.queryResponse.bind(this));},queryResponse:function(tree,elements){this.parent();if(!elements||!elements.length){this.hideChoices();}else{this.choices.getChildren(this.options.choicesMatch).each(this.options.injectChoice||function(choice){var value=choice.innerHTML;choice.inputValue=value;this.addChoiceEvents(choice.set('html',this.markQueryValue(value)));},this);this.showChoices();}}});Autocompleter.Ajax={Base:Autocompleter.Request,Json:Autocompleter.Request.JSON,Xhtml:Autocompleter.Request.HTML};


/*===============================
http://localhost/bt_real_estate30/modules/mod_bt_sociallogin/tmpl/js/jquery.jscrollpane.min.js
================================================================================*/;
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */

(function($) {

var types = ['DOMMouseScroll', 'mousewheel'];

if ($.event.fixHooks) {
    for ( var i=types.length; i; ) {
        $.event.fixHooks[ types[--i] ] = $.event.mouseHooks;
    }
}

$.event.special.mousewheel = {
    setup: function() {
        if ( this.addEventListener ) {
            for ( var i=types.length; i; ) {
                this.addEventListener( types[--i], handler, false );
            }
        } else {
            this.onmousewheel = handler;
        }
    },
    
    teardown: function() {
        if ( this.removeEventListener ) {
            for ( var i=types.length; i; ) {
                this.removeEventListener( types[--i], handler, false );
            }
        } else {
            this.onmousewheel = null;
        }
    }
};

$.fn.extend({
    mousewheel: function(fn) {
        return fn ? this.bind("mousewheel", fn) : this.trigger("mousewheel");
    },
    
    unmousewheel: function(fn) {
        return this.unbind("mousewheel", fn);
    }
});


function handler(event) {
    var orgEvent = event || window.event, args = [].slice.call( arguments, 1 ), delta = 0, returnValue = true, deltaX = 0, deltaY = 0;
    event = $.event.fix(orgEvent);
    event.type = "mousewheel";
    
    // Old school scrollwheel delta
    if ( orgEvent.wheelDelta ) { delta = orgEvent.wheelDelta/120; }
    if ( orgEvent.detail     ) { delta = -orgEvent.detail/3; }
    
    // New school multidimensional scroll (touchpads) deltas
    deltaY = delta;
    
    // Gecko
    if ( orgEvent.axis !== undefined && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {
        deltaY = 0;
        deltaX = -1*delta;
    }
    
    // Webkit
    if ( orgEvent.wheelDeltaY !== undefined ) { deltaY = orgEvent.wheelDeltaY/120; }
    if ( orgEvent.wheelDeltaX !== undefined ) { deltaX = -1*orgEvent.wheelDeltaX/120; }
    
    // Add event and delta to the front of the arguments
    args.unshift(event, delta, deltaX, deltaY);
    
    return ($.event.dispatch || $.event.handle).apply(this, args);
}

})(jQuery);



/*
 * jScrollPane - v2.0.0beta12 - 2012-09-27
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2010 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
(function(b,a,c){b.fn.jScrollPane=function(e){function d(D,O){var ay,Q=this,Y,aj,v,al,T,Z,y,q,az,aE,au,i,I,h,j,aa,U,ap,X,t,A,aq,af,am,G,l,at,ax,x,av,aH,f,L,ai=true,P=true,aG=false,k=false,ao=D.clone(false,false).empty(),ac=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";aH=D.css("paddingTop")+" "+D.css("paddingRight")+" "+D.css("paddingBottom")+" "+D.css("paddingLeft");f=(parseInt(D.css("paddingLeft"),10)||0)+(parseInt(D.css("paddingRight"),10)||0);function ar(aQ){var aL,aN,aM,aJ,aI,aP,aO=false,aK=false;ay=aQ;if(Y===c){aI=D.scrollTop();aP=D.scrollLeft();D.css({overflow:"hidden",padding:0});aj=D.innerWidth()+f;v=D.innerHeight();D.width(aj);Y=b('<div class="jspPane" />').css("padding",aH).append(D.children());al=b('<div class="jspContainer" />').css({width:aj+"px",height:v+"px"}).append(Y).appendTo(D)}else{D.css("width","");aO=ay.stickToBottom&&K();aK=ay.stickToRight&&B();aJ=D.innerWidth()+f!=aj||D.outerHeight()!=v;if(aJ){aj=D.innerWidth()+f;v=D.innerHeight();al.css({width:aj+"px",height:v+"px"})}if(!aJ&&L==T&&Y.outerHeight()==Z){D.width(aj);return}L=T;Y.css("width","");D.width(aj);al.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}Y.css("overflow","auto");if(aQ.contentWidth){T=aQ.contentWidth}else{T=Y[0].scrollWidth}Z=Y[0].scrollHeight;Y.css("overflow","");y=T/aj;q=Z/v;az=q>1;aE=y>1;if(!(aE||az)){D.removeClass("jspScrollable");Y.css({top:0,width:al.width()-f});n();E();R();w()}else{D.addClass("jspScrollable");aL=ay.maintainPosition&&(I||aa);if(aL){aN=aC();aM=aA()}aF();z();F();if(aL){N(aK?(T-aj):aN,false);M(aO?(Z-v):aM,false)}J();ag();an();if(ay.enableKeyboardNavigation){S()}if(ay.clickOnTrack){p()}C();if(ay.hijackInternalLinks){m()}}if(ay.autoReinitialise&&!av){av=setInterval(function(){ar(ay)},ay.autoReinitialiseDelay)}else{if(!ay.autoReinitialise&&av){clearInterval(av)}}aI&&D.scrollTop(0)&&M(aI,false);aP&&D.scrollLeft(0)&&N(aP,false);D.trigger("jsp-initialised",[aE||az])}function aF(){if(az){al.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />')));U=al.find(">.jspVerticalBar");ap=U.find(">.jspTrack");au=ap.find(">.jspDrag");if(ay.showArrows){aq=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",aD(0,-1)).bind("click.jsp",aB);af=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",aD(0,1)).bind("click.jsp",aB);if(ay.arrowScrollOnHover){aq.bind("mouseover.jsp",aD(0,-1,aq));af.bind("mouseover.jsp",aD(0,1,af))}ak(ap,ay.verticalArrowPositions,aq,af)}t=v;al.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){t-=b(this).outerHeight()});au.hover(function(){au.addClass("jspHover")},function(){au.removeClass("jspHover")}).bind("mousedown.jsp",function(aI){b("html").bind("dragstart.jsp selectstart.jsp",aB);au.addClass("jspActive");var s=aI.pageY-au.position().top;b("html").bind("mousemove.jsp",function(aJ){V(aJ.pageY-s,false)}).bind("mouseup.jsp mouseleave.jsp",aw);return false});o()}}function o(){ap.height(t+"px");I=0;X=ay.verticalGutter+ap.outerWidth();Y.width(aj-X-f);try{if(U.position().left===0){Y.css("margin-left",X+"px")}}catch(s){}}function z(){if(aE){al.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />')));am=al.find(">.jspHorizontalBar");G=am.find(">.jspTrack");h=G.find(">.jspDrag");if(ay.showArrows){ax=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",aD(-1,0)).bind("click.jsp",aB);x=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",aD(1,0)).bind("click.jsp",aB);
if(ay.arrowScrollOnHover){ax.bind("mouseover.jsp",aD(-1,0,ax));x.bind("mouseover.jsp",aD(1,0,x))}ak(G,ay.horizontalArrowPositions,ax,x)}h.hover(function(){h.addClass("jspHover")},function(){h.removeClass("jspHover")}).bind("mousedown.jsp",function(aI){b("html").bind("dragstart.jsp selectstart.jsp",aB);h.addClass("jspActive");var s=aI.pageX-h.position().left;b("html").bind("mousemove.jsp",function(aJ){W(aJ.pageX-s,false)}).bind("mouseup.jsp mouseleave.jsp",aw);return false});l=al.innerWidth();ah()}}function ah(){al.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){l-=b(this).outerWidth()});G.width(l+"px");aa=0}function F(){if(aE&&az){var aI=G.outerHeight(),s=ap.outerWidth();t-=aI;b(am).find(">.jspCap:visible,>.jspArrow").each(function(){l+=b(this).outerWidth()});l-=s;v-=s;aj-=aI;G.parent().append(b('<div class="jspCorner" />').css("width",aI+"px"));o();ah()}if(aE){Y.width((al.outerWidth()-f)+"px")}Z=Y.outerHeight();q=Z/v;if(aE){at=Math.ceil(1/y*l);if(at>ay.horizontalDragMaxWidth){at=ay.horizontalDragMaxWidth}else{if(at<ay.horizontalDragMinWidth){at=ay.horizontalDragMinWidth}}h.width(at+"px");j=l-at;ae(aa)}if(az){A=Math.ceil(1/q*t);if(A>ay.verticalDragMaxHeight){A=ay.verticalDragMaxHeight}else{if(A<ay.verticalDragMinHeight){A=ay.verticalDragMinHeight}}au.height(A+"px");i=t-A;ad(I)}}function ak(aJ,aL,aI,s){var aN="before",aK="after",aM;if(aL=="os"){aL=/Mac/.test(navigator.platform)?"after":"split"}if(aL==aN){aK=aL}else{if(aL==aK){aN=aL;aM=aI;aI=s;s=aM}}aJ[aN](aI)[aK](s)}function aD(aI,s,aJ){return function(){H(aI,s,this,aJ);this.blur();return false}}function H(aL,aK,aO,aN){aO=b(aO).addClass("jspActive");var aM,aJ,aI=true,s=function(){if(aL!==0){Q.scrollByX(aL*ay.arrowButtonSpeed)}if(aK!==0){Q.scrollByY(aK*ay.arrowButtonSpeed)}aJ=setTimeout(s,aI?ay.initialDelay:ay.arrowRepeatFreq);aI=false};s();aM=aN?"mouseout.jsp":"mouseup.jsp";aN=aN||b("html");aN.bind(aM,function(){aO.removeClass("jspActive");aJ&&clearTimeout(aJ);aJ=null;aN.unbind(aM)})}function p(){w();if(az){ap.bind("mousedown.jsp",function(aN){if(aN.originalTarget===c||aN.originalTarget==aN.currentTarget){var aL=b(this),aO=aL.offset(),aM=aN.pageY-aO.top-I,aJ,aI=true,s=function(){var aR=aL.offset(),aS=aN.pageY-aR.top-A/2,aP=v*ay.scrollPagePercent,aQ=i*aP/(Z-v);if(aM<0){if(I-aQ>aS){Q.scrollByY(-aP)}else{V(aS)}}else{if(aM>0){if(I+aQ<aS){Q.scrollByY(aP)}else{V(aS)}}else{aK();return}}aJ=setTimeout(s,aI?ay.initialDelay:ay.trackClickRepeatFreq);aI=false},aK=function(){aJ&&clearTimeout(aJ);aJ=null;b(document).unbind("mouseup.jsp",aK)};s();b(document).bind("mouseup.jsp",aK);return false}})}if(aE){G.bind("mousedown.jsp",function(aN){if(aN.originalTarget===c||aN.originalTarget==aN.currentTarget){var aL=b(this),aO=aL.offset(),aM=aN.pageX-aO.left-aa,aJ,aI=true,s=function(){var aR=aL.offset(),aS=aN.pageX-aR.left-at/2,aP=aj*ay.scrollPagePercent,aQ=j*aP/(T-aj);if(aM<0){if(aa-aQ>aS){Q.scrollByX(-aP)}else{W(aS)}}else{if(aM>0){if(aa+aQ<aS){Q.scrollByX(aP)}else{W(aS)}}else{aK();return}}aJ=setTimeout(s,aI?ay.initialDelay:ay.trackClickRepeatFreq);aI=false},aK=function(){aJ&&clearTimeout(aJ);aJ=null;b(document).unbind("mouseup.jsp",aK)};s();b(document).bind("mouseup.jsp",aK);return false}})}}function w(){if(G){G.unbind("mousedown.jsp")}if(ap){ap.unbind("mousedown.jsp")}}function aw(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(au){au.removeClass("jspActive")}if(h){h.removeClass("jspActive")}}function V(s,aI){if(!az){return}if(s<0){s=0}else{if(s>i){s=i}}if(aI===c){aI=ay.animateScroll}if(aI){Q.animate(au,"top",s,ad)}else{au.css("top",s);ad(s)}}function ad(aI){if(aI===c){aI=au.position().top}al.scrollTop(0);I=aI;var aL=I===0,aJ=I==i,aK=aI/i,s=-aK*(Z-v);if(ai!=aL||aG!=aJ){ai=aL;aG=aJ;D.trigger("jsp-arrow-change",[ai,aG,P,k])}u(aL,aJ);Y.css("top",s);D.trigger("jsp-scroll-y",[-s,aL,aJ]).trigger("scroll")}function W(aI,s){if(!aE){return}if(aI<0){aI=0}else{if(aI>j){aI=j}}if(s===c){s=ay.animateScroll}if(s){Q.animate(h,"left",aI,ae)
}else{h.css("left",aI);ae(aI)}}function ae(aI){if(aI===c){aI=h.position().left}al.scrollTop(0);aa=aI;var aL=aa===0,aK=aa==j,aJ=aI/j,s=-aJ*(T-aj);if(P!=aL||k!=aK){P=aL;k=aK;D.trigger("jsp-arrow-change",[ai,aG,P,k])}r(aL,aK);Y.css("left",s);D.trigger("jsp-scroll-x",[-s,aL,aK]).trigger("scroll")}function u(aI,s){if(ay.showArrows){aq[aI?"addClass":"removeClass"]("jspDisabled");af[s?"addClass":"removeClass"]("jspDisabled")}}function r(aI,s){if(ay.showArrows){ax[aI?"addClass":"removeClass"]("jspDisabled");x[s?"addClass":"removeClass"]("jspDisabled")}}function M(s,aI){var aJ=s/(Z-v);V(aJ*i,aI)}function N(aI,s){var aJ=aI/(T-aj);W(aJ*j,s)}function ab(aV,aQ,aJ){var aN,aK,aL,s=0,aU=0,aI,aP,aO,aS,aR,aT;try{aN=b(aV)}catch(aM){return}aK=aN.outerHeight();aL=aN.outerWidth();al.scrollTop(0);al.scrollLeft(0);while(!aN.is(".jspPane")){s+=aN.position().top;aU+=aN.position().left;aN=aN.offsetParent();if(/^body|html$/i.test(aN[0].nodeName)){return}}aI=aA();aO=aI+v;if(s<aI||aQ){aR=s-ay.verticalGutter}else{if(s+aK>aO){aR=s-v+aK+ay.verticalGutter}}if(aR){M(aR,aJ)}aP=aC();aS=aP+aj;if(aU<aP||aQ){aT=aU-ay.horizontalGutter}else{if(aU+aL>aS){aT=aU-aj+aL+ay.horizontalGutter}}if(aT){N(aT,aJ)}}function aC(){return -Y.position().left}function aA(){return -Y.position().top}function K(){var s=Z-v;return(s>20)&&(s-aA()<10)}function B(){var s=T-aj;return(s>20)&&(s-aC()<10)}function ag(){al.unbind(ac).bind(ac,function(aL,aM,aK,aI){var aJ=aa,s=I;Q.scrollBy(aK*ay.mouseWheelSpeed,-aI*ay.mouseWheelSpeed,false);return aJ==aa&&s==I})}function n(){al.unbind(ac)}function aB(){return false}function J(){Y.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(s){ab(s.target,false)})}function E(){Y.find(":input,a").unbind("focus.jsp")}function S(){var s,aI,aK=[];aE&&aK.push(am[0]);az&&aK.push(U[0]);Y.focus(function(){D.focus()});D.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(aN){if(aN.target!==this&&!(aK.length&&b(aN.target).closest(aK).length)){return}var aM=aa,aL=I;switch(aN.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=aN.keyCode;aJ();break;case 35:M(Z-v);s=null;break;case 36:M(0);s=null;break}aI=aN.keyCode==s&&aM!=aa||aL!=I;return !aI}).bind("keypress.jsp",function(aL){if(aL.keyCode==s){aJ()}return !aI});if(ay.hideFocus){D.css("outline","none");if("hideFocus" in al[0]){D.attr("hideFocus",true)}}else{D.css("outline","");if("hideFocus" in al[0]){D.attr("hideFocus",false)}}function aJ(){var aM=aa,aL=I;switch(s){case 40:Q.scrollByY(ay.keyboardSpeed,false);break;case 38:Q.scrollByY(-ay.keyboardSpeed,false);break;case 34:case 32:Q.scrollByY(v*ay.scrollPagePercent,false);break;case 33:Q.scrollByY(-v*ay.scrollPagePercent,false);break;case 39:Q.scrollByX(ay.keyboardSpeed,false);break;case 37:Q.scrollByX(-ay.keyboardSpeed,false);break}aI=aM!=aa||aL!=I;return aI}}function R(){D.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function C(){if(location.hash&&location.hash.length>1){var aK,aI,aJ=escape(location.hash.substr(1));try{aK=b("#"+aJ+', a[name="'+aJ+'"]')}catch(s){return}if(aK.length&&Y.find(aJ)){if(al.scrollTop()===0){aI=setInterval(function(){if(al.scrollTop()>0){ab(aK,true);b(document).scrollTop(al.position().top);clearInterval(aI)}},50)}else{ab(aK,true);b(document).scrollTop(al.position().top)}}}}function m(){if(b(document.body).data("jspHijack")){return}b(document.body).data("jspHijack",true);b(document.body).delegate("a[href*=#]","click",function(s){var aI=this.href.substr(0,this.href.indexOf("#")),aK=location.href,aO,aP,aJ,aM,aL,aN;if(location.href.indexOf("#")!==-1){aK=location.href.substr(0,location.href.indexOf("#"))}if(aI!==aK){return}aO=escape(this.href.substr(this.href.indexOf("#")+1));aP;try{aP=b("#"+aO+', a[name="'+aO+'"]')}catch(aQ){return}if(!aP.length){return}aJ=aP.closest(".jspScrollable");aM=aJ.data("jsp");aM.scrollToElement(aP,true);if(aJ[0].scrollIntoView){aL=b(a).scrollTop();aN=aP.offset().top;if(aN<aL||aN>aL+b(a).height()){aJ[0].scrollIntoView()}}s.preventDefault()
})}function an(){var aJ,aI,aL,aK,aM,s=false;al.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(aN){var aO=aN.originalEvent.touches[0];aJ=aC();aI=aA();aL=aO.pageX;aK=aO.pageY;aM=false;s=true}).bind("touchmove.jsp",function(aQ){if(!s){return}var aP=aQ.originalEvent.touches[0],aO=aa,aN=I;Q.scrollTo(aJ+aL-aP.pageX,aI+aK-aP.pageY);aM=aM||Math.abs(aL-aP.pageX)>5||Math.abs(aK-aP.pageY)>5;return aO==aa&&aN==I}).bind("touchend.jsp",function(aN){s=false}).bind("click.jsp-touchclick",function(aN){if(aM){aM=false;return false}})}function g(){var s=aA(),aI=aC();D.removeClass("jspScrollable").unbind(".jsp");D.replaceWith(ao.append(Y.children()));ao.scrollTop(s);ao.scrollLeft(aI);if(av){clearInterval(av)}}b.extend(Q,{reinitialise:function(aI){aI=b.extend({},ay,aI);ar(aI)},scrollToElement:function(aJ,aI,s){ab(aJ,aI,s)},scrollTo:function(aJ,s,aI){N(aJ,aI);M(s,aI)},scrollToX:function(aI,s){N(aI,s)},scrollToY:function(s,aI){M(s,aI)},scrollToPercentX:function(aI,s){N(aI*(T-aj),s)},scrollToPercentY:function(aI,s){M(aI*(Z-v),s)},scrollBy:function(aI,s,aJ){Q.scrollByX(aI,aJ);Q.scrollByY(s,aJ)},scrollByX:function(s,aJ){var aI=aC()+Math[s<0?"floor":"ceil"](s),aK=aI/(T-aj);W(aK*j,aJ)},scrollByY:function(s,aJ){var aI=aA()+Math[s<0?"floor":"ceil"](s),aK=aI/(Z-v);V(aK*i,aJ)},positionDragX:function(s,aI){W(s,aI)},positionDragY:function(aI,s){V(aI,s)},animate:function(aI,aL,s,aK){var aJ={};aJ[aL]=s;aI.animate(aJ,{duration:ay.animateDuration,easing:ay.animateEase,queue:false,step:aK})},getContentPositionX:function(){return aC()},getContentPositionY:function(){return aA()},getContentWidth:function(){return T},getContentHeight:function(){return Z},getPercentScrolledX:function(){return aC()/(T-aj)},getPercentScrolledY:function(){return aA()/(Z-v)},getIsScrollableH:function(){return aE},getIsScrollableV:function(){return az},getContentPane:function(){return Y},scrollToBottom:function(s){V(i,s)},hijackInternalLinks:b.noop,destroy:function(){g()}});ar(O)}e=b.extend({},b.fn.jScrollPane.defaults,e);b.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed});return this.each(function(){var f=b(this),g=f.data("jsp");if(g){g.reinitialise(e)}else{b("script",f).filter('[type="text/javascript"],:not([type])').remove();g=new d(f,e);f.data("jsp",g)}})};b.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);


/*===============================
http://localhost/bt_real_estate30/modules/mod_bt_sociallogin/tmpl/js/jquery.simplemodal.js
================================================================================*/;
;(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{factory(jQuery);}}
(function($){var d=[],doc=$(document),ua=navigator.userAgent.toLowerCase(),wndw=$(window),w=[];var browser={ieQuirks:null,msie:/msie/.test(ua)&&!/opera/.test(ua),opera:/opera/.test(ua)};browser.ie6=browser.msie&&/msie 6./.test(ua)&&typeof window['XMLHttpRequest']!=='object';browser.ie7=browser.msie&&/msie 7.0/.test(ua);browser.boxModel=(document.compatMode==="CSS1Compat");$.modal=function(data,options){return $.modal.impl.init(data,options);};$.modal.close=function(){$.modal.impl.close();};$.modal.focus=function(pos){$.modal.impl.focus(pos);};$.modal.setContainerDimensions=function(){$.modal.impl.setContainerDimensions();};$.modal.setPosition=function(){$.modal.impl.setPosition();};$.modal.update=function(height,width){$.modal.impl.update(height,width);};$.fn.modal=function(options){return $.modal.impl.init(this,options);};$.modal.defaults={appendTo:'body',focus:true,opacity:50,overlayId:'simplemodal-overlay',overlayCss:{},containerId:'simplemodal-container',containerCss:{},dataId:'simplemodal-data',dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:false,autoPosition:true,zIndex:1000,close:true,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:'simplemodal-close',escClose:true,overlayClose:false,fixed:true,position:null,persist:false,modal:true,onOpen:null,onShow:null,onClose:null};$.modal.impl={d:{},init:function(data,options){var s=this;if(s.d.data){return false;}
browser.ieQuirks=browser.msie&&!browser.boxModel;s.o=$.extend({},$.modal.defaults,options);s.zIndex=s.o.zIndex;s.occb=false;if(typeof data==='object'){data=data instanceof $?data:$(data);s.d.placeholder=false;if(data.parent().parent().size()>0){data.before($('<span></span>').attr('id','simplemodal-placeholder').css({display:'none'}));s.d.placeholder=true;s.display=data.css('display');if(!s.o.persist){s.d.orig=data.clone(true);}}}
else if(typeof data==='string'||typeof data==='number'){data=$('<div></div>').html(data);}
else{alert('SimpleModal Error: Unsupported data type: '+typeof data);return s;}
s.create(data);data=null;s.open();if($.isFunction(s.o.onShow)){s.o.onShow.apply(s,[s.d]);}
return s;},create:function(data){var s=this;s.getDimensions();if(s.o.modal&&browser.ie6){s.d.iframe=$('<iframe src="javascript:false;"></iframe>').css($.extend(s.o.iframeCss,{display:'none',opacity:0,position:'fixed',height:w[0],width:w[1],zIndex:s.o.zIndex,top:0,left:0})).appendTo(s.o.appendTo);}
s.d.overlay=$('<div></div>').attr('id',s.o.overlayId).addClass('simplemodal-overlay').css($.extend(s.o.overlayCss,{display:'none',opacity:s.o.opacity/100,height:s.o.modal?d[0]:0,width:s.o.modal?d[1]:0,position:'fixed',left:0,top:0,zIndex:s.o.zIndex+1})).appendTo(s.o.appendTo);s.d.container=$('<div></div>').attr('id',s.o.containerId).addClass('simplemodal-container').css($.extend({position:s.o.fixed?'fixed':'absolute'},s.o.containerCss,{display:'none',zIndex:s.o.zIndex+2})).append(s.o.close&&s.o.closeHTML?$(s.o.closeHTML).addClass(s.o.closeClass):'').appendTo(s.o.appendTo);s.d.wrap=$('<div></div>').attr('tabIndex',-1).addClass('simplemodal-wrap').css({height:'100%',outline:0,width:'100%'}).appendTo(s.d.container);s.d.data=data.attr('id',data.attr('id')||s.o.dataId).addClass('simplemodal-data').css($.extend(s.o.dataCss,{display:'none'})).appendTo('body');data=null;s.setContainerDimensions();s.d.data.appendTo(s.d.wrap);if(browser.ie6||browser.ieQuirks){s.fixIE();}},bindEvents:function(){var s=this;$('.'+s.o.closeClass).bind('click.simplemodal',function(e){e.preventDefault();s.close();});if(s.o.modal&&s.o.close&&s.o.overlayClose){s.d.overlay.bind('click.simplemodal',function(e){e.preventDefault();s.close();});}
doc.bind('keydown.simplemodal',function(e){if(s.o.modal&&e.keyCode===9){s.watchTab(e);}
else if((s.o.close&&s.o.escClose)&&e.keyCode===27){e.preventDefault();s.close();}});wndw.bind('resize.simplemodal orientationchange.simplemodal',function(){s.getDimensions();s.o.autoResize?s.setContainerDimensions():s.o.autoPosition&&s.setPosition();if(browser.ie6||browser.ieQuirks){s.fixIE();}
else if(s.o.modal){s.d.iframe&&s.d.iframe.css({height:w[0],width:w[1]});s.d.overlay.css({height:d[0],width:d[1]});}});},unbindEvents:function(){$('.'+this.o.closeClass).unbind('click.simplemodal');doc.unbind('keydown.simplemodal');wndw.unbind('.simplemodal');this.d.overlay.unbind('click.simplemodal');},fixIE:function(){var s=this,p=s.o.position;$.each([s.d.iframe||null,!s.o.modal?null:s.d.overlay,s.d.container.css('position')==='fixed'?s.d.container:null],function(i,el){if(el){var bch='document.body.clientHeight',bcw='document.body.clientWidth',bsh='document.body.scrollHeight',bsl='document.body.scrollLeft',bst='document.body.scrollTop',bsw='document.body.scrollWidth',ch='document.documentElement.clientHeight',cw='document.documentElement.clientWidth',sl='document.documentElement.scrollLeft',st='document.documentElement.scrollTop',s=el[0].style;s.position='absolute';if(i<2){s.removeExpression('height');s.removeExpression('width');s.setExpression('height',''+bsh+' > '+bch+' ? '+bsh+' : '+bch+' + "px"');s.setExpression('width',''+bsw+' > '+bcw+' ? '+bsw+' : '+bcw+' + "px"');}
else{var te,le;if(p&&p.constructor===Array){var top=p[0]?typeof p[0]==='number'?p[0].toString():p[0].replace(/px/,''):el.css('top').replace(/px/,'');te=top.indexOf('%')===-1?top+' + (t = '+st+' ? '+st+' : '+bst+') + "px"':parseInt(top.replace(/%/,''))+' * (('+ch+' || '+bch+') / 100) + (t = '+st+' ? '+st+' : '+bst+') + "px"';if(p[1]){var left=typeof p[1]==='number'?p[1].toString():p[1].replace(/px/,'');le=left.indexOf('%')===-1?left+' + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"':parseInt(left.replace(/%/,''))+' * (('+cw+' || '+bcw+') / 100) + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"';}}
else{te='('+ch+' || '+bch+') / 2 - (this.offsetHeight / 2) + (t = '+st+' ? '+st+' : '+bst+') + "px"';le='('+cw+' || '+bcw+') / 2 - (this.offsetWidth / 2) + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"';}
s.removeExpression('top');s.removeExpression('left');s.setExpression('top',te);s.setExpression('left',le);}}});},focus:function(pos){var s=this,p=pos&&$.inArray(pos,['first','last'])!==-1?pos:'first';var input=$(':input:enabled:visible:'+p,s.d.wrap);setTimeout(function(){input.length>0?input.focus():s.d.wrap.focus();},10);},getDimensions:function(){var s=this,h=typeof window.innerHeight==='undefined'?wndw.height():window.innerHeight;d=[doc.height(),doc.width()];w=[h,wndw.width()];},getVal:function(v,d){return v?(typeof v==='number'?v:v==='auto'?0:v.indexOf('%')>0?((parseInt(v.replace(/%/,''))/100)*(d==='h'?w[0]:w[1])):parseInt(v.replace(/px/,''))):null;},update:function(height,width){var s=this;if(!s.d.data){return false;}
s.d.origHeight=s.getVal(height,'h');s.d.origWidth=s.getVal(width,'w');s.d.data.hide();height&&s.d.container.css('height',height);width&&s.d.container.css('width',width);s.setContainerDimensions();s.d.data.show();s.o.focus&&s.focus();s.unbindEvents();s.bindEvents();},setContainerDimensions:function(){var s=this,badIE=browser.ie6||browser.ie7;var ch=s.d.origHeight?s.d.origHeight:browser.opera?s.d.container.height():s.getVal(badIE?s.d.container[0].currentStyle['height']:s.d.container.css('height'),'h'),cw=s.d.origWidth?s.d.origWidth:browser.opera?s.d.container.width():s.getVal(badIE?s.d.container[0].currentStyle['width']:s.d.container.css('width'),'w'),dh=s.d.data.outerHeight(true),dw=s.d.data.outerWidth(true);s.d.origHeight=s.d.origHeight||ch;s.d.origWidth=s.d.origWidth||cw;var mxoh=s.o.maxHeight?s.getVal(s.o.maxHeight,'h'):null,mxow=s.o.maxWidth?s.getVal(s.o.maxWidth,'w'):null,mh=mxoh&&mxoh<w[0]?mxoh:w[0],mw=mxow&&mxow<w[1]?mxow:w[1];var moh=s.o.minHeight?s.getVal(s.o.minHeight,'h'):'auto';if(!ch){if(!dh){ch=moh;}
else{if(dh>mh){ch=mh;}
else if(s.o.minHeight&&moh!=='auto'&&dh<moh){ch=moh;}
else{ch=dh;}}}
else{ch=s.o.autoResize&&ch>mh?mh:ch<moh?moh:ch;}
var mow=s.o.minWidth?s.getVal(s.o.minWidth,'w'):'auto';if(!cw){if(!dw){cw=mow;}
else{if(dw>mw){cw=mw;}
else if(s.o.minWidth&&mow!=='auto'&&dw<mow){cw=mow;}
else{cw=dw;}}}
else{cw=s.o.autoResize&&cw>mw?mw:cw<mow?mow:cw;}
s.d.container.css({height:ch,width:cw});s.d.wrap.css({overflow:(dh>ch||dw>cw)?'auto':'visible'});s.o.autoPosition&&s.setPosition();},setPosition:function(){var s=this,top,left,hc=(w[0]/2)-(s.d.container.outerHeight(true)/2),vc=(w[1]/2)-(s.d.container.outerWidth(true)/2),st=s.d.container.css('position')!=='fixed'?wndw.scrollTop():0;if(s.o.position&&Object.prototype.toString.call(s.o.position)==='[object Array]'){top=st+(s.o.position[0]||hc);left=s.o.position[1]||vc;}else{top=st+hc;left=vc;}
s.d.container.css({left:left,top:top});},watchTab:function(e){var s=this;if($(e.target).parents('.simplemodal-container').length>0){s.inputs=$(':input:enabled:visible:first, :input:enabled:visible:last',s.d.data[0]);if((!e.shiftKey&&e.target===s.inputs[s.inputs.length-1])||(e.shiftKey&&e.target===s.inputs[0])||s.inputs.length===0){e.preventDefault();var pos=e.shiftKey?'last':'first';s.focus(pos);}}
else{e.preventDefault();s.focus();}},open:function(){var s=this;s.d.iframe&&s.d.iframe.show();if($.isFunction(s.o.onOpen)){s.o.onOpen.apply(s,[s.d]);}
else{s.d.overlay.show();s.d.container.show();s.d.data.show();}
s.o.focus&&s.focus();s.bindEvents();},close:function(){var s=this;if(!s.d.data){return false;}
s.unbindEvents();if($.isFunction(s.o.onClose)&&!s.occb){s.occb=true;s.o.onClose.apply(s,[s.d]);}
else{if(s.d.placeholder){var ph=$('#simplemodal-placeholder');if(s.o.persist){ph.replaceWith(s.d.data.removeClass('simplemodal-data').css('display',s.display));}
else{s.d.data.hide().remove();ph.replaceWith(s.d.orig);}}
else{s.d.data.hide().remove();}
s.d.container.hide().remove();s.d.overlay.hide();s.d.iframe&&s.d.iframe.hide().remove();s.d.overlay.remove();s.d={};}}};}));


/*===============================
http://localhost/bt_real_estate30/templates/bt_real_estate/html/mod_bt_sociallogin/js/default.js
================================================================================*/;
var BTLJ=jQuery.noConflict();if(typeof(btTimeOut)=='undefined')var btTimeOut;if(typeof(requireRemove)=='undefined')var requireRemove=true;BTLJ(document).ready(function(){BTLJ('#btl-content').appendTo('body');BTLJ(".btl-input #jform_profile_aboutme").attr("cols",21);BTLJ('.bt-scroll .btl-buttonsubmit').click(function(){setTimeout(function(){if(BTLJ("#btl-registration-error").is(':visible')){BTLJ('.bt-scroll').data('jsp').scrollToY(0,true);}else{var position=BTLJ('.bt-scroll').find('.invalid:first').position();if(position)BTLJ('.bt-scroll').data('jsp').scrollToY(position.top<300?0:position.top-50,true);}},20);})
btlOpt.LB_SIZE=btlOpt.LB_SIZE.split(',');btlOpt.RB_SIZE=btlOpt.RB_SIZE.split(',');if(btlOpt.LB_SIZE[0]>BTLJ(window).width()){btlOpt.LB_SIZE[0]=BTLJ(window).width();}
if(btlOpt.RB_SIZE[0]>BTLJ(window).width()){btlOpt.RB_SIZE[0]=BTLJ(window).width();}
jQuery('#btl-content-registration .bt-scroll').css({'width':btlOpt.RB_SIZE[0],'height':(btlOpt.RB_SIZE[1]-50)+'px'})
BTLJ("#jform_profile_dob_img").click(function(){BTLJ("div.calendar:last").show().css({"position":"fixed",'z-index':1006});BTLJ(".calendar").click(function(){requireRemove=false;});});if(BTLJ('.btl-dropdown').length){setFPosition();BTLJ(window).resize(function(){setFPosition();})}
BTLJ(btlOpt.LOGIN_TAGS).addClass("btl-modal");if(btlOpt.REGISTER_TAGS!=''){BTLJ(btlOpt.REGISTER_TAGS).addClass("btl-modal");}
var elements='#btl-panel-login';if(btlOpt.LOGIN_TAGS)elements+=', '+btlOpt.LOGIN_TAGS;if(btlOpt.MOUSE_EVENT=='click'){BTLJ(elements).click(function(event){showLoginForm();event.preventDefault();});}else{BTLJ(elements).hover(function(){showLoginForm();},function(){});}
elements='#btl-panel-registration';if(btlOpt.REGISTER_TAGS)elements+=', '+btlOpt.REGISTER_TAGS;if(btlOpt.MOUSE_EVENT=='click'){BTLJ(elements).click(function(event){showRegistrationForm();event.preventDefault();});BTLJ("#btl-panel-profile").click(function(event){showProfile();event.preventDefault();});}else{BTLJ(elements).hover(function(){if(!BTLJ("#btl-integrated").length){showRegistrationForm();}},function(){});BTLJ("#btl-panel-profile").hover(function(){showProfile();},function(){});}
BTLJ('#register-link a').click(function(event){if(BTLJ('.btl-modal').length){BTLJ.modal.close();setTimeout("showRegistrationForm();",1000);}
else{showRegistrationForm();}
event.preventDefault();});BTLJ(document).click(function(event){if(requireRemove&&event.which==1)btTimeOut=setTimeout('BTLJ("#btl-content > div").fadeOut();BTLJ(".btl-panel span").removeClass("active");',10);requireRemove=true;})
BTLJ(".btl-content-block").click(function(){requireRemove=false;});BTLJ(".btl-panel span").click(function(){requireRemove=false;});BTLJ('span#btl-captcha-reload').click(function(){BTLJ.ajax({type:"post",url:btlOpt.BT_AJAX,data:'bttask=reload_captcha',success:function(html){BTLJ('#recaptcha img').attr('src',html);}});});});function setFPosition(){if(btlOpt.ALIGN=="center"){BTLJ("#btl-content > div").each(function(){var panelid="#"+this.id.replace("content","panel");var left=BTLJ(panelid).offset().left+BTLJ(panelid).width()/2-BTLJ(this).width()/2;if(left<0)left=0;BTLJ(this).css('left',left);});}else{if(btlOpt.ALIGN=="right"){if(btlOpt.DIREC!="rtl"){BTLJ("#btl-content > div").css('right',BTLJ(document).width()-BTLJ('.btl-panel').offset().left-BTLJ('.btl-panel').width());}else{BTLJ("#btl-content > div").css('left',BTLJ('.btl-panel').offset().left);}}else{if(btlOpt.DIREC!="rtl"){BTLJ("#btl-content > div").css('left',BTLJ('.btl-panel').offset().left);}else{BTLJ("#btl-content > div").css('right',BTLJ(document).width()-BTLJ('.btl-panel').offset().left-BTLJ('.btl-panel').width());}}}
BTLJ("#btl-content > div").css('top',BTLJ(".btl-panel").offset().top+BTLJ(".btl-panel").height()+2);}
function showLoginForm(){BTLJ('.btl-panel span').removeClass("active");var el='#btl-panel-login';BTLJ.modal.close();if(BTLJ(el).hasClass("btl-modal")){BTLJ(el).addClass("active");BTLJ("#btl-content > div").fadeOut();BTLJ("#btl-content-login").modal({overlayClose:true,persist:true,autoPosition:true,fixed:BTLJ(window).width()>500,onOpen:function(dialog){BTLJ('#btl-login-error').hide();dialog.overlay.fadeIn();dialog.container.show();dialog.data.show();},onClose:function(dialog){dialog.overlay.fadeOut(function(){dialog.container.hide();dialog.data.hide();BTLJ.modal.close();BTLJ('.btl-panel span').removeClass("active");});},containerCss:{width:btlOpt.LB_SIZE[0],height:btlOpt.LB_SIZE[1]}})}
else
{setFPosition();BTLJ("#btl-content > div").each(function(){if(this.id=="btl-content-login")
{if(BTLJ(this).is(":hidden")){BTLJ(el).addClass("active");BTLJ(this).slideDown();}
else{BTLJ(this).fadeOut();BTLJ(el).removeClass("active");}}
else{if(BTLJ(this).is(":visible")){BTLJ(this).fadeOut();BTLJ('#btl-panel-registration').removeClass("active");}}})}}
function populateFormRegister(data,editEmail){BTLJ.modal.close();setTimeout(function(){populateFormRegisterDelay(data,editEmail);},800);}
function populateFormRegisterDelay(data,editEmail){for(var i in data)
{if(i!='profile'){jQuery('#jform_'+i).val(data[i]);}else{for(var j in data['profile']){jQuery('#jform_profile_'+j).val(data['profile'][j]);}}}
BTLJ('#btl-form-register #jform_password1').val('');BTLJ('#btl-form-register #jform_password2').val('');if(!editEmail){BTLJ('#btl-form-register #jform_email1').attr('disabled','disabled');BTLJ('#btl-form-register #jform_email2').attr('disabled','disabled');}
showRegistrationForm();}
function showRegistrationForm(){if(BTLJ("#btl-integrated").length){window.location.href=BTLJ("#btl-integrated").val();return;}
BTLJ('.btl-panel span').removeClass("active");BTLJ.modal.close();var el='#btl-panel-registration';if(BTLJ(el).hasClass("btl-modal")){BTLJ(el).addClass("active");BTLJ("#btl-content > div").fadeOut();BTLJ("#btl-content-registration").modal({overlayClose:true,persist:true,autoPosition:true,fixed:BTLJ(window).width()>500,onOpen:function(dialog){dialog.overlay.fadeIn();dialog.container.show();dialog.data.show();BTLJ('.bt-scroll').jScrollPane();},onClose:function(dialog){dialog.overlay.fadeOut(function(){dialog.container.hide();dialog.data.hide();BTLJ.modal.close();BTLJ('.btl-panel span').removeClass("active");});},containerCss:{width:btlOpt.RB_SIZE[0],height:'auto'}})}
else
{setFPosition();BTLJ("#btl-content > div").each(function(){if(this.id=="btl-content-registration")
{if(BTLJ(this).is(":hidden")){BTLJ(el).addClass("active");BTLJ(this).slideDown(function(){});BTLJ('.bt-scroll').jScrollPane();}
else{BTLJ(this).fadeOut();BTLJ(el).removeClass("active");}}
else{if(BTLJ(this).is(":visible")){BTLJ(this).fadeOut();BTLJ('#btl-panel-login').removeClass("active");}}})}}
function showProfile(){setFPosition();var el='#btl-panel-profile';BTLJ("#btl-content > div").each(function(){if(this.id=="btl-content-profile")
{if(BTLJ(this).is(":hidden")){BTLJ(el).addClass("active");BTLJ(this).slideDown();}
else{BTLJ(this).fadeOut();BTLJ('.btl-panel span').removeClass("active");}}
else{if(BTLJ(this).is(":visible")){BTLJ(this).fadeOut();BTLJ('.btl-panel span').removeClass("active");}}})}
function registerAjax(){BTLJ("#btl-registration-error").hide();if(BTLJ(".btl-input #jform_name").val()==""){BTLJ("#btl-registration-error").html(Joomla.JText._('REQUIRED_NAME')).show();return false;}
if(BTLJ(".btl-input #jform_username").val()==""){BTLJ("#btl-registration-error").html(Joomla.JText._('REQUIRED_USERNAME')).show();return false;}
if(BTLJ(".btl-input #jform_password1").val()==""){BTLJ("#btl-registration-error").html(Joomla.JText._('REQUIRED_PASSWORD')).show();return false;}
if(BTLJ(".btl-input #jform_password2").val()==""){BTLJ("#btl-registration-error").html(Joomla.JText._('REQUIRED_VERIFY_PASSWORD')).show();return false;}
if(BTLJ(".btl-input #jform_password2").val()!=BTLJ(".btl-input #jform_password1").val()){BTLJ("#btl-registration-error").html(Joomla.JText._('PASSWORD_NOT_MATCH')).show();return false;}
if(BTLJ(".btl-input #jform_email1").val()==""&&!BTLJ(".btl-input #jform_email1").attr('disabled')){BTLJ("#btl-registration-error").html(Joomla.JText._('REQUIRED_EMAIL')).show();return false;}
var emailRegExp=/^[_a-zA-Z0-9-]+(\.[_a-zA-z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.([a-zA-Z]){2,4})$/;if(!BTLJ(".btl-input #jform_email1").attr('disabled')&&!emailRegExp.test(BTLJ(".btl-input #jform_email1").val())){BTLJ("#btl-registration-error").html(Joomla.JText._('EMAIL_INVALID')).show();return false;}
if(BTLJ(".btl-input #jform_email1").val()!=BTLJ(".btl-input #jform_email2").val()){BTLJ("#btl-registration-error").html(Joomla.JText._('EMAIL_NOT_MATCH')).show();;return false;}
if(BTLJ("#jform_profile_tos0").length){if(!BTLJ("#jform_profile_tos0").is(":checked")){BTLJ("#jform_profile_tos").css("border","1px solid red");BTLJ("#jform_profile_tos").addClass("invalid");BTLJ("#jform_profile_tos0").focus();result=1;}else{BTLJ("#jform_profile_tos").css("border","none");BTLJ("#jform_profile_tos").removeClass("invalid");}}
if(btlOpt.RECAPTCHA=="recaptcha"){if(BTLJ('#recaptcha_response_field').length&&BTLJ('#recaptcha_response_field').val()==''){BTLJ("#btl-registration-error").html(Joomla.JText._('CAPTCHA_REQUIRED')).show();BTLJ('#recaptcha_response_field').focus();return false;}}else if(btlOpt.RECAPTCHA=="2"){if(BTLJ('#btl-captcha').length&&BTLJ('#btl-captcha').val()==''){BTLJ("#btl-registration-error").html(Joomla.JText._('CAPTCHA_REQUIRED')).show();BTLJ('#btl-captcha').focus();return false;}}
var token=BTLJ('.btl-buttonsubmit input:last').attr("name");var value_token=BTLJ('.btl-buttonsubmit input:last').val();var datasubmit=BTLJ('#btl-form-register').serialize();BTLJ.ajax({type:"POST",beforeSend:function(){BTLJ("#btl-register-in-process").show();},async:true,url:btlOpt.BT_AJAX,data:datasubmit,success:function(html){BTLJ("#btl-register-in-process").hide();if(html.indexOf('$error$')!=-1){BTLJ("#btl-registration-error").html(html.replace('$error$',''));BTLJ("#btl-registration-error").show();BTLJ('.bt-scroll').data('jsp').scrollToY(0,true);if(btlOpt.RECAPTCHA=="recaptcha"){Recaptcha.reload();}else if(btlOpt.RECAPTCHA=="2"){BTLJ.ajax({type:"post",url:btlOpt.BT_AJAX,data:'bttask=reload_captcha',success:function(html){BTLJ('#recaptcha img').attr('src',html);}});}}else{BTLJ(".bt-scroll").hide();BTLJ("#btl-success").html(html);BTLJ("#btl-success").show();setTimeout(function(){window.location.reload();},7000);}},error:function(XMLHttpRequest,textStatus,errorThrown){alert(textStatus+': Ajax request failed!');}});return false;}
function loginAjax(){if(BTLJ("#btl-input-username").val()==""){BTLJ("#btl-login-error").html(Joomla.JText._('REQUIRED_USERNAME'))
BTLJ("#btl-login-error").show();return false;}
if(BTLJ("#btl-input-password").val()==""){BTLJ("#btl-login-error").html(Joomla.JText._('REQUIRED_PASSWORD'));BTLJ("#btl-login-error").show();return false;}
var token=BTLJ('.btl-buttonsubmit input:last').attr("name");var value_token=encodeURIComponent(BTLJ('.btl-buttonsubmit input:last').val());var datasubmit="bttask=login&username="+encodeURIComponent(BTLJ("#btl-input-username").val())
+"&passwd="+encodeURIComponent(BTLJ("#btl-input-password").val())
+"&"+token+"="+value_token
+"&return="+encodeURIComponent(BTLJ("#btl-return").val());if(BTLJ("#btl-checkbox-remember").is(":checked")){datasubmit+='&remember=yes';}
BTLJ.ajax({type:"POST",beforeSend:function(){BTLJ("#btl-login-in-process").show();BTLJ("#btl-login-in-process").css('height',BTLJ('#btl-content-login').outerHeight()+'px');},async:true,url:btlOpt.BT_AJAX,data:datasubmit,success:function(html){if(html=="1"||html==1){window.location.href=btlOpt.BT_RETURN;}else{BTLJ("#btl-login-in-process").hide();BTLJ("#btl-login-error").html(Joomla.JText._('E_LOGIN_AUTHENTICATE'));BTLJ("#btl-login-error").show();}},error:function(XMLHttpRequest,textStatus,errorThrown){alert(textStatus+': ajax request failed');}});return false;}
function newPopup(pageURL,title,w,h){var left=(screen.width/2)-(w/2);var top=(screen.height/2)-(h/2);var popupWindow=window.open(pageURL,'connectingPopup','height='+h+',width='+w+',left='+left+',top='+top+',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,directories=no,status=yes');}